
/* =========================================================
   Expiriti — mainindex.css (FULL • LIMPIO • SIN REDUNDANCIAS) v2025.12.31-final
   - 1 :root / 1 body background
   - HERO fold real (centrado vertical) + HERO Gallery sin blur y sin “marco azul”
   - Reels: blur-frame SOLO en carruseles de reels + sin scroll vertical interno
   - Sistemas: alineación desktop (barra a la altura del card reels) + separación mobile CTA vs reels
   - Servicios: cards no se cortan en mobile
   - Promos + FAQ + Forms + Map
   - CI friendly (sin :has())
========================================================= */

/* ===== [0] TOKENS + BASE ===== */
:root{
  --bg:#070b12;--bg-2:#0a111b;--card:#111723;--card-2:#0f1622;--surface:#0d1522;--surface-2:#0b1220;
  --muted:#95a2b3;--text:#e8eef6;--brand:#2dd4bf;--brand-2:#60a5fa;--ok:#22c55e;--warn:#f59e0b;--err:#ef4444;
  --maxw:1200px;--radius:14px;--radius-lg:18px;--shadow:0 10px 30px rgba(0,0,0,.25);
  --border:1px solid rgba(255,255,255,.085);--gap:14px;--tap:44px;--gh-height:68px;
  --safe-top:env(safe-area-inset-top,0px);--safe-bottom:env(safe-area-inset-bottom,0px);
  --safe-left:env(safe-area-inset-left,0px);--safe-right:env(safe-area-inset-right,0px);

  /* split bg (fallback si no hay JS splitbg) */
  --split-hero:740px;--split-promos:1650px;--split-contacto:2550px;
  --split-sistemas:680px;--split-sectores-end:1400px;--split-servicios-end:2200px;--split-promos-2:2600px;

  /* fold real */
  --fold-h:calc(100svh - var(--gh-height,68px) - var(--safe-top,0px));
  --hero-pad-y:14px;--hero-gap:18px;

  /* reels knobs */
  --reel-w:380px;--reel-h-min:240px;--reel-h-mid:42svh;--reel-h-max:520px;
}
*{box-sizing:border-box}
html,body{height:100%;width:100%;max-width:100%}
html,body{overflow-x:hidden;overscroll-behavior-x:none}
@supports(overflow:clip){html,body{overflow-x:clip}}
html{background-color:var(--bg-2)}
body{
  margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);line-height:1.45;
  position:relative;padding-top:calc(var(--gh-height) + var(--safe-top));
  padding-left:var(--safe-left);padding-right:var(--safe-right);
  background:
    radial-gradient(1100px 720px at 14% -10%, rgba(45,212,191,.11), transparent 55%),
    radial-gradient(900px 640px at 86% 6%, rgba(96,165,250,.10), transparent 58%),
    linear-gradient(180deg,
      var(--bg) 0,
      var(--bg) var(--split-hero),
      var(--bg-2) var(--split-hero),
      var(--bg-2) var(--split-promos),
      var(--bg)   var(--split-promos),
      var(--bg)   var(--split-contacto),
      var(--bg-2) var(--split-contacto),
      var(--bg-2) 100%
    );
}
body::before{content:"";position:fixed;inset:0;pointer-events:none;background:repeating-linear-gradient(0deg,rgba(255,255,255,.018),rgba(255,255,255,.018) 1px,transparent 1px,transparent 3px);mix-blend-mode:overlay;opacity:.22}
img,video{max-width:100%;height:auto;display:block}
iframe{max-width:100%}
a{color:inherit;text-decoration:none}
button,input,select,textarea{font:inherit}
:focus-visible{outline:2px solid rgba(96,165,250,.75);outline-offset:2px}
.hidden,[hidden]{display:none!important}

/* ===== [1] LAYOUT UTIL ===== */
.grid-2>*{min-width:0}
.container,.section-full,.hero,.card,.cards,.promo-grid,.videos-grid,.carousel,.carousel-track,.reel-sys-tabs{max-width:100%}
.container{max-width:var(--maxw);margin:0 auto;padding-left:max(16px,var(--safe-left));padding-right:max(16px,var(--safe-right))}
.section-full{padding:34px 0}
.grid-2{display:grid;grid-template-columns:1fr;gap:var(--gap)}
.v-center,.align-center{align-items:center}
@media(min-width:980px){.container{padding-left:max(18px,var(--safe-left));padding-right:max(18px,var(--safe-right))}.grid-2{grid-template-columns:1fr 1fr}}
@media(max-width:720px){.hero .container,#productos-con>.container{padding-left:max(12px,var(--safe-left))!important;padding-right:max(12px,var(--safe-right))!important}}

/* ===== [2] PLACEHOLDERS (CLS) ===== */
#header-placeholder{display:block;min-height:var(--gh-height)}
#footer-placeholder{display:block;min-height:260px}

/* ===== [3] TYPO/CHIPS/BUTTONS ===== */
.kicker{display:inline-flex;gap:8px;align-items:center;color:rgba(232,238,246,.92);font-weight:800;letter-spacing:.2px;background:rgba(255,255,255,.04);border:var(--border);border-radius:999px;padding:8px 12px;margin-bottom:10px}
.lead{color:rgba(232,238,246,.86);margin:10px 0 0}
.hint{color:rgba(149,162,179,.95);font-size:.94rem}
.title-gradient,.gradient-word{background:linear-gradient(90deg,var(--brand),var(--brand-2));-webkit-background-clip:text;background-clip:text;color:transparent}
.badge{display:inline-flex;align-items:center;gap:8px;border-radius:999px;padding:8px 12px;border:var(--border);background:rgba(255,255,255,.04);color:rgba(232,238,246,.92);font-size:.92rem}
.badges{display:flex;flex-wrap:wrap;gap:10px;margin-top:14px}
.badge a{text-decoration:underline;text-underline-offset:3px;text-decoration-color:rgba(232,238,246,.35)}
.badge a:hover{text-decoration-color:rgba(45,212,191,.7)}
.btn{display:inline-flex;align-items:center;justify-content:center;border-radius:12px;padding:12px 14px;border:var(--border);background:rgba(255,255,255,.04);color:rgba(232,238,246,.96);cursor:pointer;transition:transform .12s ease,background .12s ease,border-color .12s ease;min-height:var(--tap)}
.btn:active{transform:translateY(1px)}
.btn-sm{padding:10px 12px;border-radius:11px;min-height:40px}
.btn-grad-green{border-color:rgba(45,212,191,.35);background:linear-gradient(180deg,rgba(45,212,191,.20),rgba(255,255,255,.03))}
.btn-grad-blue{border-color:rgba(96,165,250,.35);background:linear-gradient(180deg,rgba(96,165,250,.20),rgba(255,255,255,.03))}
.hero-btn{font-weight:900}

/* ===== [4] CARD ===== */
.card{border:var(--border);background:radial-gradient(900px 420px at 0% 0%,rgba(45,212,191,.07),transparent 60%),radial-gradient(700px 420px at 100% 0%,rgba(96,165,250,.06),transparent 60%),linear-gradient(180deg,rgba(17,23,35,.92),rgba(17,23,35,.70));border-radius:var(--radius);box-shadow:var(--shadow)}
.card .body{padding:16px}
.card.body{padding:16px}

/* ===== [5] HERO (fold real + centrado) ===== */
.hero.section-full{padding:0!important}
.hero{min-height:var(--fold-h);display:flex;align-items:center;padding:0!important}
.hero .container{width:100%;padding-top:var(--hero-pad-y)!important;padding-bottom:var(--hero-pad-y)!important}
.hero-grid{display:grid;grid-template-columns:1fr;gap:16px;align-items:center}
.hero-grid>*{min-width:0}
.hero h1{font-size:1.65rem;line-height:1.15;margin:0}
.hero .badges{margin-top:16px}
@media(min-width:980px){
  .hero{padding:0!important}
  .hero-grid{grid-template-columns:1.05fr .95fr;gap:var(--hero-gap)!important;min-height:var(--fold-h)}
  .hero h1{font-size:2.25rem}
}

/* HERO gallery header/tabs */
.hero-gallery-header{padding:10px 16px 8px;border-bottom:var(--border)}
.hero-gallery-header h2{margin:0;font-size:1.05rem;line-height:1.15}
.hero-gallery-title{padding:0 16px 10px;margin:0;min-height:18px;color:rgba(232,238,246,.92);font-weight:900;letter-spacing:.2px}
.hero-gallery-groups{display:flex;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;gap:12px;max-width:100%;scrollbar-width:none;padding:8px 12px 0;margin:8px 0 14px}
.hero-gallery-groups::-webkit-scrollbar{height:0}
.hero-gallery-groups>*{flex:0 0 auto;white-space:nowrap}
.hero-group-tab{flex:0 0 auto;white-space:nowrap;min-height:var(--tap);padding:10px 12px;border-radius:999px;border:var(--border);background:rgba(255,255,255,.03);color:rgba(232,238,246,.92);font-weight:900;cursor:pointer}
.hero-group-tab.active{border-color:rgba(45,212,191,.45);background:rgba(45,212,191,.12)}
@media(max-width:520px){.hero-gallery-groups{margin:6px 0 12px;gap:10px}.hero-gallery-header{padding:10px 14px 7px}}

/* hero tabs (logos en grid) */
.hero-gallery-tabs{display:grid!important;grid-template-columns:repeat(2,minmax(0,1fr))!important;gap:12px!important;overflow:visible!important;padding:12px 12px 14px!important}
.hero-tab{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:center!important;text-align:center!important;gap:0!important;min-height:86px!important;padding:14px!important;border-radius:14px!important;border:var(--border)!important;background:rgba(255,255,255,.03)!important;cursor:pointer}
.hero-tab.active{border-color:rgba(96,165,250,.40)!important;background:rgba(96,165,250,.10)!important}
.hero-tab span{display:none!important}
.hero-tab img{width:auto!important;height:52px!important;max-width:180px!important;object-fit:contain!important;padding:0!important;background:transparent!important;border:0!important;border-radius:0!important;display:block!important;margin:0 auto!important;aspect-ratio:170/52!important}
@media(max-width:420px){.hero-tab{min-height:82px!important;padding:12px!important}.hero-tab img{height:46px!important;max-width:165px!important}}

/* hero gallery card: alto real del fold */
.hero-gallery-card{
  height:calc(var(--fold-h) - 14px)!important;
  max-height:none!important;
  min-height:480px!important;
  display:flex;flex-direction:column;overflow:hidden
}
@media(min-width:980px){.hero-gallery-card{min-height:560px!important}}
.hero-gallery-card .hero-carousel{flex:1 1 auto!important;min-height:0!important}
.hero-gallery-card .carousel-track{height:100%!important;min-height:0!important;align-items:center!important}
.hero-gallery-card .carousel-slide{height:100%!important;display:flex!important;align-items:center!important;justify-content:center!important}

/* ===== [6] CAROUSEL (base) ===== */
.carousel{position:relative;border-radius:var(--radius);overflow:hidden;border:1px solid rgba(255,255,255,.10);background:var(--card-2)}
.carousel-track{display:flex;gap:0;overflow-x:auto;scroll-snap-type:x mandatory;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;min-height:240px}
.carousel-slide{flex:0 0 100%;scroll-snap-align:start;position:relative}
.carousel-nav{position:absolute;left:0;right:0;bottom:8px;display:flex;justify-content:center;gap:10px;padding:8px 10px;z-index:3;pointer-events:none}
.carousel-nav .dot{pointer-events:auto;width:18px;height:18px;border-radius:999px;border:1px solid rgba(255,255,255,.22);background:rgba(255,255,255,.10);cursor:pointer}
.carousel-nav .dot.active{background:rgba(45,212,191,.85);border-color:rgba(45,212,191,.95)}
.arrowCircle{position:absolute;top:50%;transform:translateY(-50%);width:42px;height:42px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(7,10,16,.55);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:rgba(232,238,246,.95);display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:3}
.arrowCircle .chev{font-size:22px;line-height:1}
.arrowCircle.prev{left:10px}
.arrowCircle.next{right:10px}
.arrowCircle.is-disabled{opacity:.35}
@media(min-width:980px){.carousel-track{min-height:320px}.carousel-nav .dot{width:14px;height:14px}}
@media(max-width:980px){.arrowCircle{display:none}}
@media(max-width:980px){.hero .arrowCircle{display:flex}}

/* ===== HERO CAROUSEL: SIN blur + SIN “marco azul” ===== */
#heroGalleryCarousel{background:transparent!important;border-color:rgba(255,255,255,.10)!important}
#heroGalleryCarousel .carousel,#heroGalleryCarousel .carousel-track,#heroGalleryCarousel .carousel-slide{background:transparent!important}
#heroGalleryCarousel .carousel-slide{padding:0!important}
#heroGalleryCarousel .hero-slide img{
  width:100%!important;height:100%!important;
  aspect-ratio:auto!important;
  object-fit:cover!important;          /* si quieres TODO visible, cambia a contain */
  object-position:center!important;
  background:transparent!important;
  display:block!important
}
/* dots con fondo oscuro SOLO en hero */
#heroGalleryCarousel .carousel-nav{
  background:rgba(7,10,18,.55)!important;
  backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  margin:0 10px 10px;
  pointer-events:auto
}

/* ===== [6B] CAROUSEL Reels (nav fuera del iframe) ===== */
.carousel[id^="carouselReels"] .carousel-nav{position:static;bottom:auto;left:auto;right:auto;margin:8px 0 0;padding:4px 8px;pointer-events:auto;background:transparent;gap:8px}
.carousel[id^="carouselReels"] .carousel-nav .dot{width:14px;height:14px}
.carousel[id^="carouselReels"] .carousel-track{min-height:0!important;height:auto!important;max-height:none!important}
.carousel[id^="carouselReels"] .carousel-slide{display:flex;align-items:center;justify-content:center;padding:10px 10px 8px}

/* ===== [7] SISTEMAS (barra título+tabs+cta) ===== */
.productos-inline-bar{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;margin:6px 0 14px}
.prod-title{margin:0;font-size:1.1rem}
.prod-title span{margin-left:6px;color:rgba(232,238,246,.75)}
.prod-cta{min-height:var(--tap);border-radius:12px;border:1px solid rgba(96,165,250,.35);background:linear-gradient(180deg,rgba(96,165,250,.20),rgba(255,255,255,.03));color:rgba(232,238,246,.96);padding:12px 14px;cursor:pointer;font-weight:900}
@media(max-width:520px){.productos-inline-bar{flex-wrap:wrap}.prod-cta{width:100%}}

/* ===== [8] CARDS ===== */
.panel-productos.hidden{display:none!important}
.cards{display:grid;gap:12px}
.cards-products{grid-template-columns:repeat(2,minmax(0,1fr))}
.cards-services{grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
@media(max-width:420px){.cards-services{grid-template-columns:1fr}}
@media(min-width:980px){.cards-products{grid-template-columns:repeat(2,minmax(0,1fr))}.cards-services{grid-template-columns:repeat(2,minmax(0,1fr))}}
.product-card{cursor:pointer;transition:transform .12s ease,border-color .12s ease,background .12s ease}
.product-card:hover{transform:translateY(-2px)}
.product-card:active{transform:translateY(1px)}
.product-card h3{display:flex;align-items:center;gap:10px;margin:0 0 8px;font-size:1.02rem}
.product-card p.body{margin:0;color:rgba(232,238,246,.82)}
.product-card .foot{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:12px}
.hoverMore .chip{display:inline-flex;align-items:center;border-radius:999px;padding:8px 10px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.03);color:rgba(232,238,246,.90);font-weight:900;white-space:nowrap}
.logo-sistema{width:100%;height:auto;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.02);object-fit:contain}
.svc-icon{width:44px;height:44px;object-fit:contain}
.svc-featured{border:1px solid rgba(45,212,191,.35);background:radial-gradient(900px 420px at 0% 0%,rgba(45,212,191,.16),transparent 60%),radial-gradient(700px 420px at 100% 0%,rgba(96,165,250,.12),transparent 60%),linear-gradient(180deg,rgba(17,23,35,.92),rgba(17,23,35,.70));position:relative;overflow:hidden}
.svc-featured:before{content:"";position:absolute;inset:-2px;background:linear-gradient(90deg,rgba(45,212,191,.35),rgba(96,165,250,.35));opacity:.12;filter:blur(16px);pointer-events:none}
.svc-featured:focus-visible{outline:2px solid rgba(45,212,191,.65);outline-offset:2px}

/* ===== [9] REELS (base) ===== */
.reels-home-card .body{padding:12px!important}
.reels-home-card .title-gradient{margin:0 0 4px!important}
.reels-home-card .hint{margin:0 0 6px!important}
.reels-home-card .reel-title{margin:0 0 6px!important;min-height:18px!important;line-height:1.15!important;font-weight:900;letter-spacing:.1px;color:rgba(232,238,246,.96)}
.reel-embed{
  position:relative;aspect-ratio:9/16;width:min(var(--reel-w),100%);
  border-radius:14px;overflow:hidden;background:#050812;border:1px solid rgba(255,255,255,.10);
  min-height:clamp(var(--reel-h-min),var(--reel-h-mid),var(--reel-h-max));
  margin:0 auto
}
.reel-embed iframe,.reel-embed .yt-thumb{position:absolute;inset:0;width:100%;height:100%}
.reel-embed iframe{border:0;pointer-events:auto;background:#050812}
.reel-embed .yt-thumb{border:0;background:transparent;padding:0;cursor:pointer}
.reel-embed .yt-thumb img{width:100%!important;height:100%!important;object-fit:cover!important;object-position:center!important;display:block;background:#050812!important}

/* reels tabs (estilo “logos”) */
.reel-sys-tabs{display:grid!important;gap:12px!important;padding:12px 12px 14px!important;margin-top:12px;overflow:visible!important;max-width:100%;grid-template-columns:repeat(2,minmax(0,1fr))!important}
.reel-tab{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:center!important;text-align:center!important;min-height:86px!important;padding:14px!important;border-radius:14px!important;border:1px solid rgba(255,255,255,.085)!important;background:rgba(255,255,255,.02)!important;box-shadow:none!important;cursor:pointer;color:rgba(232,238,246,.92)}
.reel-tab img{width:auto!important;height:52px!important;max-width:180px!important;object-fit:contain!important;padding:0!important;background:transparent!important;border:0!important;border-radius:0!important;display:block!important;margin:0 auto!important}
.reel-tab span{margin-top:8px!important;font-size:.86rem!important;font-weight:900!important;color:rgba(232,238,246,.94);line-height:1.1}
.reel-tab.active{border-color:rgba(96,165,250,.45)!important;background:rgba(96,165,250,.10)!important}

/* Servicios: tabs 3 cols (responsive) */
#carouselReels-servicios + .reel-sys-tabs{grid-template-columns:repeat(3,minmax(0,1fr))!important;padding:10px 8px 12px!important;gap:10px!important}
#carouselReels-servicios + .reel-sys-tabs .reel-tab{min-height:78px!important;padding:12px 10px!important;border-radius:14px!important;background:rgba(255,255,255,.015)!important;border:1px solid rgba(255,255,255,.07)!important}
#carouselReels-servicios + .reel-sys-tabs .reel-tab img{height:48px!important;max-width:170px!important}
#carouselReels-servicios + .reel-sys-tabs .reel-tab span{display:-webkit-box!important;-webkit-line-clamp:2!important;-webkit-box-orient:vertical!important;overflow:hidden!important;max-width:100%!important}
@media(max-width:380px){
  :root{--reel-w:340px;--reel-h-mid:36svh;--reel-h-max:420px}
  #carouselReels-servicios + .reel-sys-tabs{grid-template-columns:repeat(2,minmax(0,1fr))!important}
  .reel-tab{min-height:82px!important;padding:12px!important}
  .reel-tab img{height:46px!important;max-width:160px!important}
  .reel-tab span{font-size:.84rem!important}
}
@media(min-width:980px){:root{--reel-w:420px;--reel-h-mid:52vh;--reel-h-max:640px}}
/* ocultar flechas en reels en mobile (hero conserva flechas) */
@media(max-width:980px){.carousel[id^="carouselReels"] .arrowCircle{display:none!important}}

/* ===== REELS: blur-frame SOLO en carruseles de reels (NO toca hero) ===== */
.carousel[id^="carouselReels"] .carousel-slide{position:relative;display:flex;align-items:center;justify-content:center;padding:14px;box-sizing:border-box}
.carousel[id^="carouselReels"] .carousel-slide.blur-frame::before{
  content:"";position:absolute;inset:0;border-radius:16px;background-image:var(--blur-src);
  background-size:cover;background-position:center;filter:blur(18px);transform:scale(1.08);opacity:.55;z-index:0
}
.carousel[id^="carouselReels"] .carousel-slide.blur-frame::after{
  content:"";position:absolute;inset:0;border-radius:16px;background:linear-gradient(180deg, rgba(7,11,18,.35), rgba(7,11,18,.60));z-index:1
}
.carousel[id^="carouselReels"] .carousel-slide .reel-embed{position:relative;z-index:2}

/* REELS Sistemas + Servicios: NO scroll vertical interno (tu bug “scroll pa’ abajo”) */
#productos-con .carousel[id^="carouselReels"],#servicios .carousel[id^="carouselReels"]{overflow:hidden!important}
#productos-con .carousel[id^="carouselReels"] .carousel-track,#servicios .carousel[id^="carouselReels"] .carousel-track{overflow:hidden!important;align-items:center!important}
#productos-con .carousel[id^="carouselReels"] .carousel-slide,#servicios .carousel[id^="carouselReels"] .carousel-slide{overflow:hidden!important}
#productos-con .reel-embed,#servicios .reel-embed{overflow:hidden!important;max-height:none!important}
#productos-con .reel-embed iframe,#servicios .reel-embed iframe{display:block!important;height:100%!important;max-height:100%!important;overflow:hidden!important}

/* ===== [10] VIDEOS (lite embed) ===== */
.videos-grid{display:grid;grid-template-columns:1fr;gap:12px}
@media(min-width:980px){.videos-grid{grid-template-columns:1fr 1fr}}
.yt-lite{border-radius:var(--radius);border:var(--border);background:#0b0f14;overflow:hidden;aspect-ratio:16/9;position:relative}
.yt-lite .yt-lite-inner{position:absolute;inset:0;border:0;padding:0;margin:0;width:100%;height:100%;background:transparent;cursor:pointer}
.yt-lite-thumb{position:absolute;inset:0;background-size:cover;background-position:center;filter:saturate(1.02)}
.yt-lite-play{position:absolute;left:16px;bottom:16px;width:54px;height:54px;border-radius:999px;background:rgba(0,0,0,.45);border:1px solid rgba(255,255,255,.20);backdrop-filter:blur(10px)}
.yt-lite-play:before{content:"";position:absolute;left:21px;top:17px;width:0;height:0;border-left:14px solid rgba(232,238,246,.92);border-top:10px solid transparent;border-bottom:10px solid transparent}
.yt-iframe{width:100%;height:100%;border:0}

/* ===== [11] PROMOS ===== */
.promo-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
@media(min-width:980px){.promo-grid{grid-template-columns:repeat(3,minmax(0,1fr))}}
.promo-item{position:relative;margin:0;border-radius:var(--radius);overflow:hidden;border:var(--border);background:rgba(255,255,255,.03)}
.promo-badge{position:absolute;left:10px;top:10px;border-radius:999px;padding:8px 10px;border:1px solid rgba(255,255,255,.14);background:rgba(7,10,16,.55);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);font-weight:900}
.promo-grid>img,.promo-item img{width:100%;display:block;border-radius:var(--radius);border:var(--border);background:rgba(255,255,255,.03);height:auto;aspect-ratio:1/1;object-fit:contain;object-position:center}
@media(max-width:980px){.promo-grid{grid-template-columns:1fr;gap:14px}.promo-grid>img,.promo-item img{aspect-ratio:4/5}}
@media(max-width:420px){.promo-grid>img,.promo-item img{aspect-ratio:1/1}}
.promo-filters{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 14px}
.promo-btn{min-height:var(--tap);border-radius:999px;border:var(--border);background:rgba(255,255,255,.03);color:rgba(232,238,246,.90);padding:10px 12px;cursor:pointer}
.promo-btn.active{border-color:rgba(45,212,191,.45);background:rgba(45,212,191,.12)}

/* ===== [12] FAQ + FORMS ===== */
.faq-wrap{display:grid;gap:10px}
.faq-item{border-radius:var(--radius);border:var(--border);background:rgba(255,255,255,.03);padding:10px 12px}
.faq-item summary{cursor:pointer;font-weight:900;list-style:none}
.faq-item summary::-webkit-details-marker{display:none}
.faq-item p{color:rgba(232,238,246,.82);margin:10px 0 6px}
label{display:block;margin:10px 0 6px;color:rgba(232,238,246,.88);font-weight:900}
input,select,textarea{width:100%;border-radius:12px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.03);color:rgba(232,238,246,.95);padding:12px;outline:none}
textarea{resize:vertical;min-height:120px}
input:focus,select:focus,textarea:focus{border-color:rgba(96,165,250,.45)}
.features{margin:10px 0 0;padding-left:18px;color:rgba(232,238,246,.84)}
.features li{margin:8px 0}
.features li::marker{color:rgba(45,212,191,.8)}

/* ===== [13] PERF/RESP ===== */
.section-title{margin:0 0 12px}
.section-title h2{margin:0}
.chip,.badge{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
@media(max-width:980px){
  .section-full{padding:26px 0}
  .hero .container{padding-left:max(14px,var(--safe-left));padding-right:max(14px,var(--safe-right))}
  .hero-gallery-header h2{font-size:1rem}
  .product-card:hover{transform:none}
  #servicios.section-full{padding:22px 0!important}
}

/* ===== [13B] Servicios pager (si lo usas) ===== */
.svc-dots{display:none;gap:10px;justify-content:center;margin-top:12px}
.svc-dots .dot{width:14px;height:14px;border-radius:999px;border:1px solid rgba(255,255,255,.22);background:rgba(255,255,255,.10);cursor:pointer}
.svc-dots .dot.active{background:rgba(45,212,191,.85);border-color:rgba(45,212,191,.95)}
@media(max-width:980px){
  .cards-services.is-carousel{display:flex;gap:12px;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding:2px 2px 10px;margin:0}
  .cards-services.is-carousel .svc-page{flex:0 0 100%;max-width:100%;scroll-snap-align:start;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
  .svc-dots{display:flex}
}
@media(min-width:980px){
  .cards-services.is-carousel{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));overflow:visible}
  .cards-services.is-carousel .svc-page{display:contents}
  .svc-dots{display:none}
}

/* ===== [14] MAP ===== */
.map-embed{position:relative;width:100%;aspect-ratio:16/9;min-height:260px;border-radius:var(--radius-lg);overflow:hidden;border:var(--border);background:linear-gradient(180deg, rgba(96,165,250,.10), rgba(45,212,191,.08))}
.map-embed iframe{width:100%;height:100%;border:0;display:block}
.map-cover{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;text-decoration:none;color:var(--text);padding:14px;background:linear-gradient(180deg, rgba(0,0,0,.30), rgba(0,0,0,.55))}
.map-cover-title{font-weight:900;text-align:center}
.map-cover-cta{display:inline-flex;align-items:center;justify-content:center;min-height:var(--tap);padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#020617;font-size:13px;font-weight:900}

/* ===== [15] PROD TABS (Sistemas) ===== */
.prod-tabs-shell{flex:1 1 auto;min-width:0}
.prod-tabs{min-width:0;max-width:100%;display:flex;gap:10px;align-items:center;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;padding:6px 4px;scrollbar-width:none}
.prod-tabs::-webkit-scrollbar{height:0}
.prod-tabs>*{flex:0 0 auto;white-space:nowrap}
.prod-tabs .tab,.prod-tabs>button,.prod-tabs>a{
  appearance:none;-webkit-appearance:none;display:inline-flex;align-items:center;justify-content:center;
  padding:10px 14px;min-height:40px;border-radius:999px;border:1px solid rgba(255,255,255,.10);
  background:rgba(7,10,18,.35);color:rgba(232,238,246,.92);font-weight:900;letter-spacing:.1px;line-height:1;
  cursor:pointer;user-select:none;text-decoration:none;-webkit-tap-highlight-color:transparent;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.06),0 8px 18px rgba(0,0,0,.20);
  transition:transform .12s ease,background .12s ease,border-color .12s ease,box-shadow .12s ease
}
.prod-tabs .tab:active,.prod-tabs>button:active,.prod-tabs>a:active{transform:translateY(1px)}
@media(hover:hover){.prod-tabs .tab:hover,.prod-tabs>button:hover,.prod-tabs>a:hover{background:rgba(255,255,255,.05);border-color:rgba(255,255,255,.16)}}
.prod-tabs .tab.active,.prod-tabs>button.active,.prod-tabs>a.active{
  border-color:rgba(96,165,250,.55);background:rgba(96,165,250,.12);
  box-shadow:0 0 0 2px rgba(96,165,250,.45),inset 0 1px 0 rgba(255,255,255,.08),0 10px 22px rgba(0,0,0,.22)
}
.prod-tabs .tab:focus-visible,.prod-tabs>button:focus-visible,.prod-tabs>a:focus-visible{outline:2px solid rgba(96,165,250,.75);outline-offset:2px}

/* ===== [16] SECTION CQ ===== */
.section-cq{display:grid;grid-template-columns:1fr;gap:14px;align-items:start}
@media(min-width:980px){.section-cq{grid-template-columns:1fr 1fr;align-items:stretch}}
.prod-cta-mid{display:none!important}
.prod-cta-bottom{margin-top:12px}
.prod-cta-bottom .cta-big{
  width:100%;min-height:96px;display:flex;flex-direction:column;justify-content:center;gap:6px;padding:16px;border-radius:14px;
  border:1px solid rgba(96,165,250,.30);
  background:radial-gradient(900px 420px at 0% 0%,rgba(45,212,191,.10),transparent 60%),radial-gradient(700px 420px at 100% 0%,rgba(96,165,250,.10),transparent 60%),linear-gradient(180deg,rgba(17,23,35,.92),rgba(10,17,27,.86));
  color:rgba(232,238,246,.96);text-align:left;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,.25);
  transition:transform .12s ease,border-color .12s ease,background .12s ease
}
.prod-cta-bottom .cta-big:active{transform:translateY(1px)}
@media(hover:hover){.prod-cta-bottom .cta-big:hover{border-color:rgba(45,212,191,.40);background:radial-gradient(900px 420px at 0% 0%,rgba(45,212,191,.14),transparent 60%),radial-gradient(700px 420px at 100% 0%,rgba(96,165,250,.14),transparent 60%),linear-gradient(180deg,rgba(17,23,35,.94),rgba(10,17,27,.88))}}
.prod-cta-bottom .cta-big:focus-visible{outline:2px solid rgba(96,165,250,.75);outline-offset:2px}
.prod-cta-bottom .cta-big .cta-sub{display:block;font-size:.95rem;color:rgba(232,238,246,.78);line-height:1.25}

/* ===== [17] PERF/CLS: Sistemas ===== */
#productos-con{content-visibility:auto;contain-intrinsic-size:560px;min-height:560px;contain:layout paint;padding-bottom:44px;margin-bottom:26px;margin-top:24px}
@media(min-width:980px){#productos-con{margin-top:34px}}
@media(max-width:980px){#productos-con{contain-intrinsic-size:500px;min-height:500px;padding-bottom:32px;margin-bottom:22px}}

/* ===== [18] ALIGN SISTEMAS VS REELS (desktop) ===== */
@media(min-width:980px){
  #productos-con>.container{display:grid!important;grid-template-columns:1fr 1fr;grid-template-rows:auto 1fr;gap:var(--gap,14px);align-items:start}
  #productos-con .productos-inline-bar{grid-column:1/2;grid-row:1;margin:0 0 10px!important;align-self:start}
  #productos-con .panel-productos:not(.hidden){display:contents!important}
  #productos-con .panel-productos:not(.hidden) .grid-2.section-cq{display:contents!important}
  #productos-con .panel-productos:not(.hidden) .grid-2.section-cq>div:first-child{grid-column:1/2;grid-row:2;min-width:0;display:flex;flex-direction:column;gap:12px}
  #productos-con .panel-productos:not(.hidden) .grid-2.section-cq>.reels-home-card{grid-column:2/3;grid-row:1/3;min-width:0;height:100%;align-self:stretch}
}
@media(max-width:980px){
  #productos-con>.container{display:block!important}
  #productos-con .panel-productos:not(.hidden){display:block!important}
  #productos-con .panel-productos.hidden{display:none!important}
  #productos-con .panel-productos:not(.hidden) .grid-2.section-cq{display:block!important}
}

/* ===== [19] Fondo por tramos: secciones transparentes ===== */
#main-content,main,.section-full,#productos-con,#sectores,#servicios,#promociones,#faq,#contacto{background:transparent!important}

/* ===== [20] Separación FAQ vs Contacto ===== */
#faq{padding-bottom:28px}
#contacto{padding-top:28px}
@media(min-width:981px){#faq{padding-bottom:34px}#contacto{padding-top:34px}}

/* ===== [21] FIX mobile: separación Cotizar ahora vs Reels por sistema ===== */
@media(max-width:980px){
  #productos-con .prod-cta-bottom{margin-bottom:16px!important}
  #productos-con .reels-home-card{margin-top:16px!important}
}

/* ===== [22] FIX Servicios (mobile): cards no se “pierden” ===== */
#servicios .cards-services>*{min-width:0}
#servicios .cards-services h3,#servicios .cards-services .title,#servicios .cards-services .svc-title{
  overflow-wrap:anywhere;word-break:break-word;hyphens:auto;line-height:1.15
}
@media(max-width:420px){#servicios .cards-services{grid-template-columns:1fr!important}}

/* ===== [23] Tabs/pills: evitar recorte inferior ===== */
.prod-tabs,.hero-gallery-groups,.hero-gallery-tabs,#heroGalleryGroups,#heroGalleryTabs,#sistemasTabs,.sistemas-tabs,.promo-tabs,.promo-filters{overflow:visible!important;padding-bottom:10px}
.section-cq,#productos-con,#servicios,#promociones{overflow:visible}
.prod-tabs .tab,.hero-group-tab{line-height:1.15}

/* ===== [24] Oculta título dinámico reel SOLO en servicios (si existe) ===== */
#reelTitle-servicios{display:none!important}

/* =========================================================
   PATCH FINAL — HERO (img + dots) + REELS -15%
   - HERO: NO deformar imágenes (usa cover real)
   - HERO: dots abajo del banner (mobile + desktop)
   - Barra dots: más transparente + ancho fit-content
   - REELS: -15% altura proporcional (Servicios + Sistemas)
========================================================= */

/* =========================
   [A] HERO: layout en columna (track arriba, dots abajo)
   ========================= */
#heroGalleryCarousel.carousel{
  display:flex!important;
  flex-direction:column!important;
  overflow:hidden!important; /* mantiene recorte del banner */
}

/* Track ocupa el alto disponible */
#heroGalleryCarousel .carousel-track{
  flex:1 1 auto!important;
  height:100%!important;
  min-height:0!important;
  overflow:hidden!important;
}

/* Slides a alto completo (sin estirar) */
#heroGalleryCarousel .carousel-slide{
  height:100%!important;
  display:flex!important;
  align-items:stretch!important;
  justify-content:stretch!important;
}

/* Imagen: llena el área sin deformar (corta si hace falta) */
#heroGalleryCarousel .hero-slide img,
#heroGalleryCarousel .carousel-slide img{
  width:100%!important;
  height:100%!important;
  display:block!important;
  object-fit:cover!important;           /* si quieres TODO visible: cambia a contain */
  object-position:center!important;
  transform:none!important;
}

/* =========================
   [B] HERO: dots ABAJO (SIEMPRE) + barra más ligera + fit al contenido
   ========================= */
#heroGalleryCarousel .carousel-nav{
  position:static!important;             /* deja de ir encima del banner */
  left:auto!important; right:auto!important; bottom:auto!important;

  width:fit-content!important;           /* se adapta al # de dots */
  max-width:calc(100% - 24px)!important;
  margin:10px auto 12px!important;

  padding:6px 10px!important;
  gap:8px!important;
  border-radius:999px!important;

  background:rgba(7,10,18,.24)!important; /* MÁS transparente */
  border:1px solid rgba(255,255,255,.10)!important;
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);

  pointer-events:auto!important;         /* importante si tu base tenía none */
  justify-content:center!important;
}

/* Dots: un poco más compactos y consistentes */
#heroGalleryCarousel .carousel-nav .dot{
  width:12px!important;
  height:12px!important;
  border-radius:999px!important;
}

/* Desktop: dots ligeramente más pequeños (opcional) */
@media (min-width:981px){
  #heroGalleryCarousel .carousel-nav .dot{
    width:11px!important;
    height:11px!important;
  }
}

/* =========================
   [C] REELS -15% altura REAL (Servicios + Sistemas) proporcional
   - Afecta a .reel-embed (tu wrapper 9:16) sin romper clamp/svh
   ========================= */
:root{ --reel-scale:.85; } /* -15% */

/* Reduce altura clamp (min/mid/max) para todos los dispositivos */
.reel-embed{
  min-height:clamp(
    calc(var(--reel-h-min) * var(--reel-scale)),
    calc(var(--reel-h-mid) * var(--reel-scale)),
    calc(var(--reel-h-max) * var(--reel-scale))
  )!important;
}

/* (Opcional pero recomendado) Mantén el 9:16 más “cerrado” sin afectar layout:
   reducimos también el ancho objetivo (se ve más compacto, y baja altura en consecuencia) */
:root{ --reel-w:calc(380px * var(--reel-scale)); }
@media(min-width:980px){ :root{ --reel-w:calc(420px * var(--reel-scale)); } }
@media(max-width:380px){ :root{ --reel-w:calc(340px * var(--reel-scale)); } }

/* ===== FIX: HERO sin recorte (no “cortadas”) ===== */
#heroGalleryCarousel .hero-slide,
#heroGalleryCarousel .carousel-slide{
  background:#050812!important; /* o tu card-2 */
}

#heroGalleryCarousel .hero-slide img,
#heroGalleryCarousel .carousel-slide img{
  width:100%!important;
  height:100%!important;
  object-fit:contain!important;     /* <- clave */
  object-position:center!important;
}


/* ===== HERO (banners 600x600): NO RECORTAR ===== */

/* fuerza ventana cuadrada para que no “corte” */
#heroGalleryCarousel .carousel-track{
  aspect-ratio:1/1;
}

/* el slide ocupa todo el cuadrado */
#heroGalleryCarousel .carousel-slide.hero-slide{
  height:100%;
}

/* muestra el banner completo (sin crop) */
#heroGalleryCarousel .carousel-slide.hero-slide img
  width:100%;
  height:100%;
  object-fit:contain;       /* <- clave: no recorta */
  object-position:center;
  display:block;
}

/* HERO panorámico pero banner cuadrado completo */
#heroGalleryCarousel .carousel-slide.hero-slide img
  width:100%;
  height:100%;
  object-fit:contain;
  object-position:center;
}

/* =========================================================
   PATCH FINAL — HERO (banners 600x600) + dots abajo
   - Sin recorte (contain)
   - Dots fuera del banner, abajo
   - Barra de dots más transparente y ancho automático
========================================================= */

/* 1) El carrusel HERO se comporta como columna: track arriba, nav abajo */
#heroGalleryCarousel.carousel{
  display:flex!important;
  flex-direction:column!important;
  overflow:hidden!important;
}

/* 2) Track ocupa el espacio disponible */
#heroGalleryCarousel .carousel-track{
  flex:1 1 auto!important;
  min-height:0!important;
  height:100%!important;
  overflow:hidden!important;

  /* Si quieres que SIEMPRE sea cuadrado (recomendado para 600x600): */
  aspect-ratio:1/1;
}

/* 3) Slides llenan el alto del track */
#heroGalleryCarousel .carousel-slide{
  height:100%!important;
  display:flex!important;
  align-items:center!important;
  justify-content:center!important;
}

/* 4) Imagen HERO: SIEMPRE completa (no crop) */
#heroGalleryCarousel .hero-slide img{
  width:100%!important;
  height:100%!important;
  display:block!important;
  object-fit:contain!important;     /* <- clave */
  object-position:center!important;
  background:transparent!important;
}

/* 5) Dots ABAJO (no overlay) + barra ligera y fit */
#heroGalleryCarousel .carousel-nav{
  position:static!important;
  width:fit-content!important;
  max-width:calc(100% - 24px)!important;
  margin:10px auto 12px!important;
  padding:6px 10px!important;
  gap:8px!important;
  border-radius:999px!important;

  background:rgba(7,10,18,.22)!important; /* más transparente */
  border:1px solid rgba(255,255,255,.10)!important;
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);

  pointer-events:auto!important;
  justify-content:center!important;
}

/* 6) Dots un poco más compactos */
#heroGalleryCarousel .carousel-nav .dot{
  width:12px!important;
  height:12px!important;
  border-radius:999px!important;
}
@media(min-width:981px){
  #heroGalleryCarousel .carousel-nav .dot{
    width:11px!important;height:11px!important;
  }
}
/* ===== PATCH FINAL: HERO 600x600 + dots abajo (parser-safe) ===== */
#heroGalleryCarousel.carousel{display:flex!important;flex-direction:column!important;overflow:hidden!important}
#heroGalleryCarousel .carousel-track{
  flex:1 1 auto!important;min-height:0!important;height:100%!important;overflow:hidden!important;
  aspect-ratio:1/1;
}
#heroGalleryCarousel .carousel-slide{height:100%!important;display:flex!important;align-items:center!important;justify-content:center!important}
#heroGalleryCarousel .hero-slide img{
  width:100%!important;height:100%!important;display:block!important;
  object-fit:contain!important;object-position:center!important;background:transparent!important
}
#heroGalleryCarousel .carousel-nav{
  position:static!important;width:fit-content!important;max-width:calc(100% - 24px)!important;
  margin:10px auto 12px!important;padding:6px 10px!important;gap:8px!important;border-radius:999px!important;
  background:rgba(7,10,18,.22)!important;border:1px solid rgba(255,255,255,.10)!important;
  backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
  pointer-events:auto!important;justify-content:center!important
}
#heroGalleryCarousel .carousel-nav .dot{width:12px!important;height:12px!important;border-radius:999px!important}
@media(min-width:981px){#heroGalleryCarousel .carousel-nav .dot{width:11px!important;height:11px!important}}


