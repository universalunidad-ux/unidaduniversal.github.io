/* =========================================================
   Expiriti — mainindex.css (INDEX ONLY) v2026.01.04
   Requiere: theme.css (GLOBAL)
   Scope: <body class="page-index">
   - SOLO Index: HERO fold + Hero Gallery + Productos alignment + Servicios pager + Promos + Contacto/Mapa
========================================================= */

/* =========================
   0) Scope + offsets
========================= */
.page-index{scroll-padding-top:84px}
@media(max-width:768px){.page-index{scroll-padding-top:68px}}

/* Si theme ya maneja el padding-top por header, esto es redundante.
   Si NO lo maneja, deja este bloque. */
.page-index{padding-top:var(--gh-height,68px)}

/* =========================
   1) HERO fold real (Index)
========================= */
.page-index .hero.section-full{padding:0!important}
.page-index .hero{
  min-height:calc(var(--ix-hero,100svh) - var(--gh-height,68px) - env(safe-area-inset-top,0px));
  display:flex;
  align-items:center;
  padding:0!important;
}
.page-index .hero .container{
  width:100%;
  padding-top:14px!important;
  padding-bottom:14px!important;
}
.page-index .hero-grid{display:grid;grid-template-columns:1fr;gap:16px;align-items:center}
.page-index .hero-grid>*{min-width:0}
.page-index .hero h1{margin:0;line-height:1.15;font-size:1.65rem}
@media(min-width:980px){
  .page-index .hero-grid{grid-template-columns:1.05fr .95fr;gap:18px}
  .page-index .hero h1{font-size:2.25rem}
}

/* =========================
   2) HERO Gallery (Index)
   - Ajustes específicos: alto del card, tabs tipo “logos”, dots abajo
========================= */

/* Card de galería: ocupa fold sin romper */
.page-index .hero-gallery-card{
  height:calc(100svh - var(--gh-height,68px) - env(safe-area-inset-top,0px) - 14px)!important;
  min-height:480px!important;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}
@media(min-width:980px){.page-index .hero-gallery-card{min-height:560px!important}}

/* Header del card */
.page-index .hero-gallery-header{padding:10px 16px 8px;border-bottom:var(--border)}
.page-index .hero-gallery-header h2{margin:0;font-size:1.05rem;line-height:1.15}
@media(max-width:520px){.page-index .hero-gallery-header{padding:10px 14px 7px}.page-index .hero-gallery-header h2{font-size:1rem}}

/* Grupos (tabs horizontales) */
.page-index .hero-gallery-groups{
  display:flex;
  gap:12px;
  padding:8px 12px 0;
  margin:8px 0 14px;
  overflow-x:auto;
  overflow-y:hidden;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
.page-index .hero-gallery-groups::-webkit-scrollbar{height:0}
.page-index .hero-gallery-groups>*{flex:0 0 auto;white-space:nowrap}
.page-index .hero-group-tab{
  min-height:44px;
  padding:10px 12px;
  border-radius:999px;
  border:var(--border);
  background:rgba(255,255,255,.03);
  color:rgba(232,238,246,.92);
  font-weight:900;
  cursor:pointer;
}
.page-index .hero-group-tab.active{
  border-color:rgba(45,212,191,.45);
  background:rgba(45,212,191,.12);
}

/* Tabs (logos grid) */
.page-index .hero-gallery-tabs{
  display:grid!important;
  grid-template-columns:repeat(2,minmax(0,1fr))!important;
  gap:12px!important;
  padding:12px 12px 14px!important;
}
.page-index .hero-tab{
  display:flex!important;
  align-items:center!important;
  justify-content:center!important;
  min-height:86px!important;
  padding:14px!important;
  border-radius:14px!important;
  border:var(--border)!important;
  background:rgba(255,255,255,.03)!important;
  cursor:pointer;
}
.page-index .hero-tab.active{
  border-color:rgba(96,165,250,.40)!important;
  background:rgba(96,165,250,.10)!important;
}
.page-index .hero-tab span{display:none!important}
.page-index .hero-tab img{
  width:auto!important;
  height:52px!important;
  max-width:180px!important;
  object-fit:contain!important;
  background:transparent!important;
  border:0!important;
  border-radius:0!important;
  margin:0 auto!important;
  display:block!important;
}
@media(max-width:420px){
  .page-index .hero-tab{min-height:82px!important;padding:12px!important}
  .page-index .hero-tab img{height:46px!important;max-width:165px!important}
}

/* Hero carousel: flex para que dots queden “abajo” */
.page-index #heroGalleryCarousel.carousel{
  display:flex!important;
  flex-direction:column!important;
  overflow:visible!important;
}
.page-index #heroGalleryCarousel .carousel-track{
  flex:1 1 auto!important;
  min-height:0!important;
  height:100%!important;
  overflow:hidden!important;
}
.page-index #heroGalleryCarousel .carousel-slide{
  height:100%!important;
  display:flex!important;
  align-items:center!important;
  justify-content:center!important;
  padding:0!important;
}

/* IMAGEN: sin recorte (contain) para que no corte arriba/abajo */
.page-index #heroGalleryCarousel .hero-slide img{
  width:100%!important;
  height:100%!important;
  object-fit:contain!important;
  object-position:center!important;
  background:transparent!important;
  display:block!important;
}

/* Dots: abajo, blur más transparente y ancho según dots */
.page-index #heroGalleryCarousel .carousel-nav{
  position:static!important;
  width:max-content!important;
  max-width:calc(100% - 24px)!important;
  margin:10px auto 12px!important;
  padding:6px 10px!important;
  gap:8px!important;
  border-radius:999px!important;
  background:rgba(7,10,18,.14)!important;
  border:1px solid rgba(255,255,255,.10)!important;
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);
  pointer-events:auto!important;
  justify-content:center!important;
}
.page-index #heroGalleryCarousel .carousel-nav .dot{width:12px!important;height:12px!important;border-radius:999px!important}
@media(min-width:981px){.page-index #heroGalleryCarousel .carousel-nav .dot{width:11px!important;height:11px!important}}

/* Flechas: hero sí puede mostrarlas en mobile */
@media(max-width:980px){.page-index .hero .arrowCircle{display:flex}}

/* =========================
   3) Productos CONTPAQi (Index)
   - Alignment desktop: barra izquierda + reels derecha ocupando alto completo
========================= */
.page-index .panel-productos.hidden{display:none!important}

/* Estructura “section-cq” (Index) */
.page-index .section-cq{display:grid;grid-template-columns:1fr;gap:14px;align-items:start}
@media(min-width:980px){.page-index .section-cq{grid-template-columns:1fr 1fr;align-items:stretch}}

/* CTA abajo */
.page-index .prod-cta-bottom{margin-top:12px}
.page-index .prod-cta-bottom .cta-big{
  width:100%;
  min-height:96px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:6px;
  padding:16px;
  border-radius:14px;
  border:1px solid rgba(96,165,250,.30);
  background:linear-gradient(180deg,rgba(17,23,35,.92),rgba(10,17,27,.86));
  color:rgba(232,238,246,.96);
  text-align:left;
  cursor:pointer;
  transition:transform .12s ease,border-color .12s ease,background .12s ease;
}
.page-index .prod-cta-bottom .cta-big:active{transform:translateY(1px)}
.page-index .prod-cta-bottom .cta-big .cta-sub{display:block;font-size:.95rem;color:rgba(232,238,246,.78);line-height:1.25}

/* FIX mobile: separación CTA vs Reels */
@media(max-width:980px){
  .page-index #productos-con .prod-cta-bottom{margin-bottom:16px!important}
  .page-index #productos-con .reels-home-card{margin-top:16px!important}
}

/* Alignment desktop avanzado (tu patrón) */
@media(min-width:980px){
  .page-index #productos-con>.container{
    display:grid!important;
    grid-template-columns:1fr 1fr;
    grid-template-rows:auto 1fr;
    gap:var(--gap,14px);
    align-items:start;
  }
  .page-index #productos-con .productos-inline-bar{
    grid-column:1/2;
    grid-row:1;
    margin:0 0 10px!important;
    align-self:start;
  }
  .page-index #productos-con .panel-productos:not(.hidden){display:contents!important}
  .page-index #productos-con .panel-productos:not(.hidden) .grid-2.section-cq{display:contents!important}
  .page-index #productos-con .panel-productos:not(.hidden) .grid-2.section-cq>div:first-child{
    grid-column:1/2;
    grid-row:2;
    min-width:0;
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .page-index #productos-con .panel-productos:not(.hidden) .grid-2.section-cq>.reels-home-card{
    grid-column:2/3;
    grid-row:1/3;
    min-width:0;
    height:100%;
    align-self:stretch;
    margin-top:0!important;
  }
}
@media(max-width:980px){
  .page-index #productos-con>.container{display:block!important}
  .page-index #productos-con .panel-productos:not(.hidden){display:block!important}
  .page-index #productos-con .panel-productos.hidden{display:none!important}
  .page-index #productos-con .panel-productos:not(.hidden) .grid-2.section-cq{display:block!important}
}

/* =========================
   4) Reels (Index) — solo overrides
   - Evita “scroll vertical interno”
   - Ajusta padding slide
========================= */
.page-index .reels-home-card .body{padding:12px!important}
.page-index .reels-home-card .reel-title{min-height:18px!important}

/* Reels: no scroll vertical interno */
.page-index #productos-con .carousel[id^="carouselReels"],
.page-index #servicios .carousel[id^="carouselReels"]{overflow:hidden!important}
.page-index #productos-con .carousel[id^="carouselReels"] .carousel-track,
.page-index #servicios .carousel[id^="carouselReels"] .carousel-track{overflow:hidden!important;align-items:center!important}
.page-index #productos-con .carousel[id^="carouselReels"] .carousel-slide,
.page-index #servicios .carousel[id^="carouselReels"] .carousel-slide{overflow:hidden!important}

/* Padding coherente */
.page-index .carousel[id^="carouselReels"] .carousel-slide{padding:12px!important}
@media(min-width:980px){.page-index .carousel[id^="carouselReels"] .carousel-slide{padding:14px!important}}

/* Flechas de reels ocultas en mobile (hero conserva flechas) */
@media(max-width:980px){.page-index .carousel[id^="carouselReels"] .arrowCircle{display:none!important}}

/* Oculta el título dinámico reel SOLO en servicios (como lo traías) */
.page-index #reelTitle-servicios{display:none!important}

/* =========================
   5) Servicios (Index)
   - Alineación desktop + pager mobile (si lo usas)
========================= */
@media(min-width:980px){
  .page-index #servicios .grid-2{align-items:start!important}
  .page-index #servicios .reels-home-card{margin-top:0!important;align-self:start!important}
  /* Si quieres el título en blanco (sin gradiente) */
  .page-index #servicios .reels-home-card .title-gradient{
    background:none!important;
    color:rgba(232,238,246,.96)!important;
  }
}

/* Pager mobile de servicios (solo si tu JS lo usa) */
.page-index .svc-dots{display:none;gap:10px;justify-content:center;margin-top:12px}
.page-index .svc-dots .dot{width:14px;height:14px;border-radius:999px;border:1px solid rgba(255,255,255,.22);background:rgba(255,255,255,.10);cursor:pointer}
.page-index .svc-dots .dot.active{background:rgba(45,212,191,.85);border-color:rgba(45,212,191,.95)}
@media(max-width:980px){
  .page-index .cards-services.is-carousel{display:flex;gap:12px;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding:2px 2px 10px;margin:0}
  .page-index .cards-services.is-carousel .svc-page{flex:0 0 100%;max-width:100%;scroll-snap-align:start;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
  .page-index .svc-dots{display:flex}
}
@media(min-width:980px){
  .page-index .cards-services.is-carousel{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));overflow:visible}
  .page-index .cards-services.is-carousel .svc-page{display:contents}
  .page-index .svc-dots{display:none}
}

/* =========================
   6) Promociones (Index) — solo overrides
========================= */
@media(min-width:981px){
  .page-index .promo-filters{flex-wrap:wrap!important;overflow:visible!important}
}

/* =========================
   7) FAQ readability (Index)
========================= */
.page-index .faq-item p{
  text-align:justify;
  text-justify:inter-word;
  hyphens:auto;
}
@media(max-width:520px){
  .page-index .faq-item p{ text-align:left; hyphens:none; }
}

/* =========================
   8) Mapa (Index) — altura SOLO desktop
========================= */
@media(min-width:981px){
  .page-index .map-embed{
    aspect-ratio:auto!important;
    height:320px!important; /* 280–360 según prefieras */
    min-height:0!important;
  }
  .page-index .map-embed iframe{height:100%!important}
}

/* =========================
   9) Fondo por tramos (si theme usa background global)
   - Mantiene secciones transparentes
========================= */
.page-index #main-content,
.page-index main,
.page-index .section-full,
.page-index #productos-con,
.page-index #sectores,
.page-index #servicios,
.page-index #promociones,
.page-index #faq,
.page-index #contacto{background:transparent!important}

/* Separación FAQ vs Contacto */
.page-index #faq{padding-bottom:28px}
.page-index #contacto{padding-top:28px}
@media(min-width:981px){.page-index #faq{padding-bottom:34px}.page-index #contacto{padding-top:34px}}


/* =========================================================
   INDEX — SECCIONES ELÁSTICAS (solo .page-index)
   - No redefine :root global
   - No pisa el HERO que ya tienes (solo mejora dvh/svh)
========================================================= */

/* Helpers locales al index (no global) */
.page-index{
  --ix-vh: 1svh;
  --ix-hero: 100svh;
  --ix-sec: 92svh; /* “casi pantalla” */
}
@supports (height: 100dvh){
  .page-index{
    --ix-vh: 1dvh;
    --ix-hero: 100dvh;
    --ix-sec: 92dvh;
  }
}



/* 2) PRODUCTOS y SERVICIOS: min-height elástico */
.page-index #productos-con,
.page-index #servicios.section-full{
  min-height: clamp(640px, calc(var(--ix-sec) - 10px), 980px);
}
@media(max-width:980px){
  .page-index #productos-con,
  .page-index #servicios.section-full{
    min-height: clamp(520px, calc(78 * var(--ix-vh)), 860px);
  }
}

/* 3) Desktop: columnas igualadas (cards vs reels) */
@media(min-width:981px){
  /* Productos: tu layout ya es grid master; aquí solo estiramos */
  .page-index #productos-con .panel-productos:not(.hidden) .grid-2.section-cq > div:first-child,
  .page-index #productos-con .panel-productos:not(.hidden) .grid-2.section-cq > .reels-home-card{
    align-self: stretch !important;
  }

  /* Servicios: estirar columnas si usas .grid-2 */
  .page-index #servicios .grid-2{align-items: stretch !important}
  .page-index #servicios .grid-2 > *{align-self: stretch !important; min-height:0}
}

/* 4) Reels: ocupar altura disponible sin overflow interno (desktop) */
@media(min-width:981px){
  .page-index #productos-con .reels-home-card,
  .page-index #servicios .reels-home-card{
    display:flex;
    flex-direction:column;
    height:100%;
  }
  .page-index #productos-con .reels-home-card .body,
  .page-index #servicios .reels-home-card .body{
    display:flex;
    flex-direction:column;
    height:100%;
    min-height:0;
  }
  .page-index #productos-con .carousel[id^="carouselReels"],
  .page-index #servicios .carousel[id^="carouselReels"]{
    flex:1 1 auto;
    min-height:0;
  }
}

/* 5) Mobile: sin recortes ni scroll interno en reels */
@media(max-width:980px){
  .page-index #productos-con .reels-home-card,
  .page-index #servicios .reels-home-card{height:auto !important}
  .page-index #productos-con .carousel[id^="carouselReels"] .carousel-track,
  .page-index #servicios .carousel[id^="carouselReels"] .carousel-track{overflow:hidden !important}
}

.page-index .hero{border-top:0!important}
