 /* =========================================================
   Expiriti - main.css (FINAL LIMPIO + CONSOLIDADO)
   - Sin duplicados / sin colisiones
   - CI friendly (sin :has())
   - Carruseles: .carousel / .carouselX / listSlider / icons-carousel
   - Reels/YouTube: wrappers + lazy friendly (sin overlays)
   - Calculadoras: nube/escritorio + resumen MXN/letra + layout 1/2/3
   - FIX: flechas ancladas + overflow mobile + títulos reels/videos
   - Header V7 (.gh) compat + drawer no recortado
========================================================= */

/* ===== [0] TOKENS ===== */
:root{--bg:#0b0f14;--bg-2:#0d1219;--card:#111723;--muted:#95a2b3;--text:#e8eef6;--brand:#2dd4bf;--brand-2:#60a5fa;--ok:#22c55e;--warn:#f59e0b;--err:#ef4444;--maxw:1200px;--radius:14px;--shadow:0 10px 30px rgba(0,0,0,.25);--gap:14px;--bp-lg:1200px;--bp-md:980px;--bp-sm:768px;--bp-xs:520px}

/* ===== [1] BASE ===== */
*{box-sizing:border-box}html,body{margin:0}html{scroll-behavior:smooth}
body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,var(--bg) 0%,var(--bg-2) 100%);color:var(--text);scroll-padding-top:84px;overflow-x:hidden}
img,video,iframe{max-width:100%;display:block;height:auto}a{color:inherit;text-decoration:none}
.container{max-width:var(--maxw);margin:0 auto;padding:0 34px}
h1{font-size:clamp(28px,3.4vw,42px);line-height:1.1;margin:8px 0 14px}
h2{font-size:clamp(22px,2.4vw,30px);margin:0 0 10px}
h3{font-size:clamp(18px,2vw,22px);margin:0 0 10px}
h4{margin:0 0 8px}
.lead{color:#c6d1e3;font-size:18px;max-width:68ch}
.hint{color:#aebbd0;opacity:.9}
.title-gradient{background:linear-gradient(90deg,var(--brand),var(--brand-2));-webkit-background-clip:text;background-clip:text;color:transparent}
.badges{display:flex;flex-wrap:wrap;gap:8px;margin:6px 0 0}
.badge{display:inline-block;padding:6px 10px;border-radius:999px;background:#0f1c2c;border:1px solid #203044;color:#cfe3ff;font-size:12px}
.lock-note{margin:8px 0 0;font-size:12px;color:#94a8c6;display:inline-flex;gap:6px;align-items:center}
.lock-note::before{content:"!"}
section{padding:26px 0;border-top:1px solid #11182725}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Layout grids */
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:var(--gap);align-items:start}
.grid-2.align-center{align-items:center}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--gap)}
.stack{display:grid;gap:calc(var(--gap)*.85)}
@media(max-width:980px){.grid-2{grid-template-columns:1fr}.grid-3{grid-template-columns:1fr}}

/* ===== [2] FOCUS (accesible) ===== */
button:focus-visible,a:focus-visible,[role="button"]:focus-visible,.btn:focus-visible,.pill:focus-visible,.svc-link:focus-visible,.dot:focus-visible,.arrowCircle:focus-visible,.fcard:focus-visible,.sys-icon:focus-visible{outline:2px solid var(--brand);outline-offset:2px;box-shadow:0 0 0 1px var(--brand)}

/* ===== [3] HEADER LEGACY (solo si alguna página lo usa) ===== */
header:not(.gh){position:sticky;top:0;z-index:1000;width:100%;background:rgba(11,15,20,.75);backdrop-filter:saturate(140%) blur(8px);border-bottom:1px solid #19202b}
.nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:12px 0}
.brand{display:flex;align-items:center;gap:10px;font-weight:700}
.brand img{width:38px;height:38px;border-radius:10px;display:block}
.brand small{display:block;font-weight:500;color:var(--muted);font-size:12px;margin-top:2px}
nav ul{list-style:none;display:flex;gap:18px;margin:0;padding:0}
nav a{opacity:.9}nav a:hover{opacity:1}
.cta{display:flex;gap:10px;align-items:center}
.burger{display:none}

/* Buttons */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid #1c2533;background:#121a25;box-shadow:var(--shadow);font-weight:700;font-size:14px;cursor:pointer;white-space:nowrap}
.btn-ghost{background:#121a25;color:#e8eef6}
.btn-grad-green{background:linear-gradient(145deg,#16a34a,#22c55e);color:#0b0f14;border:none}
.btn-grad-purple{background:linear-gradient(145deg,#7c3aed,#a855f7);color:#fff;border:none}
.btn-grad-blue{background:linear-gradient(145deg,#2563eb,#3b82f6);color:#fff;border:none}

/* Outline gradient (CI friendly) */
.btn-outline-gradient{color:#cfe9ff;background:#0f1622;border:1px solid #2b3c56;position:relative;overflow:hidden;border-radius:12px}
@supports ((-webkit-mask-composite:xor) or (mask-composite:exclude)){
.btn-outline-gradient{background:transparent;border:1px solid transparent}
.btn-outline-gradient::before{content:"";position:absolute;inset:0;padding:1px;border-radius:12px;background:linear-gradient(145deg,var(--brand),var(--brand-2));-webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none}
}
.hero-btn,#sesion-guiada .btn.btn-grad-green,#sesion-guiada .btn.btn-grad-blue{transition:transform .16s ease,box-shadow .16s ease,filter .16s ease,background .16s ease,border-color .16s ease}
.hero-btn:hover,#sesion-guiada .btn.btn-grad-green:hover,#sesion-guiada .btn.btn-grad-blue:hover{transform:translateY(-2px);box-shadow:0 14px 30px rgba(0,0,0,.45);filter:brightness(1.05)}

/* ===== [4] HERO + PDF ===== */
.hero{padding:26px 0 0}
.hero-3col{display:grid;grid-template-columns:280px 1.55fr 1.05fr;column-gap:8px;align-items:start}
@media(max-width:1200px){.hero-3col{grid-template-columns:270px 1.45fr 1.05fr}}
@media(max-width:980px){.hero-3col{grid-template-columns:1fr}}
.stack-left{display:grid;gap:10px;align-items:start;justify-items:start}
.pdf-card{margin-left:-6px}
.pdf-frame{width:100%;height:68vh;border:0}
@media(max-width:980px){.pdf-frame{height:56vh}}

/* ===== [5] CARDS BASE ===== */
.card{background:linear-gradient(135deg,#0f1622,#0f1724);border:1px solid #1c2533;border-radius:16px;overflow:hidden}
.card.body,.card .body{padding:12px;color:#c8d3e5}
.card.body>h3,.card.body>h4{padding-top:2px}

/* ===== [6] CAROUSEL (.carousel) ===== */
.carousel{position:relative;border-radius:var(--radius);overflow:hidden;border:1px solid #1c2533;background:#0f1622;min-height:320px}
.carousel-track{display:flex;overflow-x:auto;scroll-snap-type:x mandatory;scroll-behavior:smooth;height:calc(100% - 38px)}
.carousel-slide{min-width:100%;flex-shrink:0;scroll-snap-align:start;display:flex;align-items:center;justify-content:center}
.carousel-nav{display:flex;gap:8px;justify-content:center;padding:10px;background:#0e1724;border-top:1px solid #1c2533}
.dot{width:10px;height:10px;border-radius:999px;background:#223044;border:none;opacity:.6;cursor:pointer}
.dot.active{background:linear-gradient(145deg,var(--brand),var(--brand-2));opacity:1}
.arrowCircle{position:absolute;top:50%;transform:translateY(-50%);width:44px;height:44px;border-radius:999px;border:1px solid #2b3c56;background:linear-gradient(145deg,#0f1a2a,#0f1c2c);display:grid;place-items:center;cursor:pointer;z-index:10;color:#eaf2ff;box-shadow:0 6px 18px rgba(0,0,0,.35)}
.arrowCircle.prev{left:8px}.arrowCircle.next{right:8px}
.arrowCircle .chev{font-size:24px;line-height:1}

/* ===== [7] CAROUSELX (.carouselX) ===== */
.carouselX{position:relative;max-width:100%;overflow:hidden}
.carouselX .track{display:flex;gap:14px;overflow-x:auto;overflow-y:hidden;padding:6px 36px;min-height:240px;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;overscroll-behavior-x:contain;max-width:100%}
.carouselX .sys{flex:0 0 calc((100% - 28px)/3);background:linear-gradient(135deg,#0f1622,#0f1724);border:1px solid #1c2533;border-radius:16px;padding:18px;display:flex;flex-direction:column;align-items:center;text-align:center;position:relative;cursor:pointer;transition:background .18s ease,border-color .18s ease,box-shadow .18s ease,transform .12s ease}
.carouselX .sys:hover{background:radial-gradient(circle at top left,rgba(96,165,250,.18),#0f1724);border-color:var(--brand-2,#60a5fa);box-shadow:0 10px 24px rgba(0,0,0,.35);transform:translateY(-2px)}
.carouselX .sys img{width:72px;height:72px;border-radius:14px;margin:8px auto 12px;background:#101826;object-fit:cover}
.carouselX .sys h4{margin:8px 0 6px;font-size:14px}
.carouselX .sys p{margin:0;color:#b9c8de;font-size:13px;line-height:1.35}
.carouselX .arrowCircle{width:46px;height:46px}
.carouselX .arrowCircle.prev{left:8px}.carouselX .arrowCircle.next{right:8px}
@media(max-width:980px){.carouselX .sys{flex:0 0 100%}}
.carouselX .hoverMore{margin-top:18px;opacity:0;transform:translateY(6px);transition:opacity .18s ease,transform .18s ease;pointer-events:none}
.carouselX .sys:hover .hoverMore{opacity:1;transform:translateY(0);pointer-events:auto}
.chip{display:inline-flex;align-items:center;justify-content:center;padding:6px 14px;border-radius:999px;background:rgba(15,23,42,.9);border:1px solid #1c2533;font-size:14px;font-weight:600;color:#e5f0ff}
.carouselX .sys.show-hover .hoverMore{opacity:1!important;transform:translateY(0)!important;pointer-events:auto}
.group-dots{display:flex;gap:8px;justify-content:center;margin:10px 0 0}

/* ===== [8] REELS & YOUTUBE wrappers ===== */
.yt-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;width:100%;align-items:start}
@media(max-width:768px){.yt-grid{grid-template-columns:1fr}}
.yt{width:100%}
.yt-wrap,.reel-embed{position:relative;overflow:hidden;background:rgba(255,255,255,.06)}
.yt-wrap{width:100%;border-radius:16px}
.yt-wrap::before{content:"";display:block;padding-top:56.25%}
.reel-embed{width:min(460px,100%)!important;max-width:460px!important;border-radius:12px;border:1px solid #1c2533;background:#0e1724;margin:0 auto;flex:0 0 auto;justify-self:center}
.reel-embed::before{content:"";display:block;padding-top:177.78%}
@media(max-width:768px){.reel-embed{width:100%!important;max-width:520px!important}}
@supports (aspect-ratio:16/9){.yt-wrap{aspect-ratio:16/9}.yt-wrap::before{display:none}.reel-embed{aspect-ratio:9/16}.reel-embed::before{display:none}}
.yt-wrap iframe,.reel-embed iframe,.yt-wrap img,.reel-embed img,.yt-wrap button,.reel-embed button{position:absolute;inset:0;width:100%;height:100%}
.yt-wrap iframe,.reel-embed iframe{border:0;opacity:1;transition:opacity .18s ease}
.yt-wrap::after,.reel-embed::after{content:none!important;display:none!important}
.yt-wrap button,.reel-embed button{display:grid;place-items:center;z-index:5;background:transparent;border:0;padding:0;cursor:pointer}
.yt-wrap img,.reel-embed img{z-index:1;object-fit:cover;display:block}
.yt-title{font-size:14px;font-weight:900;color:var(--brand);margin:0 0 8px;text-align:center;line-height:1.25}
#carouselVideos{min-height:auto}
#carouselVideos .carousel-track,#carouselVideos .carousel-slide{height:auto}
#carouselVideos .carousel-slide{align-items:flex-start;justify-content:center;box-sizing:border-box;padding:0 24px}
@media(max-width:768px){#carouselVideos .carousel-slide{padding:0 12px}}
#carouselVideos .yt{background:rgba(2,6,23,.35);border:1px solid rgba(148,163,184,.25);border-radius:14px;padding:10px;overflow:hidden}
#carouselVideos .yt-wrap{position:relative;width:100%;aspect-ratio:16/9;border-radius:12px;overflow:hidden;background:#000;border:1px solid rgba(255,255,255,.08)}
#carouselVideos .yt-wrap iframe{position:absolute;inset:0;width:100%;height:100%;border:0;display:block}

/* Reels: solo activo, centrado y turquesa */
.reel-title{display:none!important;margin:0 0 10px!important;padding:0!important;border:0!important;background:transparent!important;box-shadow:none!important;border-radius:0!important;color:var(--brand)!important;font-weight:900!important;font-size:15px!important;line-height:1.2!important;text-align:center!important}
.reel-title.active{display:block!important}
#videos-title,aside[aria-label^="Reels"]>h4.title-gradient{display:none!important}

/* ===== [9] LISTSLIDER ===== */
.listSlider{position:relative;border-radius:16px;background:linear-gradient(180deg,#0e1826,#0f1622);border:1px solid #1c2533;padding:8px;overflow:hidden}
.listTrack{display:flex;overflow:hidden;scroll-behavior:smooth}
.listPage{min-width:100%;padding:8px}
.listItem{display:grid;grid-template-columns:84px 1fr;gap:14px;align-items:center;background:linear-gradient(135deg,#0f1622,#0f1724);border:1px solid #1c2533;border-radius:14px;margin:10px 4px;padding:14px;transition:background .18s ease,border-color .18s ease,box-shadow .18s ease,transform .12s ease}
.listItem:hover{background:radial-gradient(circle at top left,rgba(96,165,250,.16),#0f1724);border-color:var(--brand-2,#60a5fa);box-shadow:0 10px 26px rgba(0,0,0,.35);transform:translateY(-1px)}
.listIcon{width:84px;height:84px;border-radius:14px;background:#0f1725;display:grid;place-items:center;overflow:hidden}
.listIcon img{width:84px;height:84px;object-fit:cover}
.listItem strong{font-size:14px}
.listItem div>div{font-size:13px;color:#b9c8de;line-height:1.35}

/* ===== [10] PILLS + FEATURE GRID ===== */
.pillbar{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0 10px}
.pill{padding:6px 10px;border-radius:999px;border:1px solid #1e2b3c;background:linear-gradient(180deg,#0f1c2c,#0e1724);color:#cfe3ff;cursor:pointer;font-weight:700;font-size:12px;transition:transform .12s ease,box-shadow .12s ease,background .2s ease}
.pill:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.22)}
.pill.active{background:linear-gradient(145deg,var(--brand),var(--brand-2));color:#0b0f14;border:none}
.feature-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
@media(max-width:980px){.feature-grid{grid-template-columns:1fr 1fr}}
@media(max-width:680px){.feature-grid{grid-template-columns:1fr}}
.fcard{border:1px solid #1e2b3c;border-radius:12px;background:linear-gradient(135deg,#0f1622,#0f1724);padding:12px;display:grid;gap:6px;transition:background .18s ease,border-color .18s ease,box-shadow .18s ease,transform .12s ease}
.fcard:hover{background:radial-gradient(circle at top left,rgba(96,165,250,.16),#0f1724);border-color:var(--brand-2,#60a5fa);box-shadow:0 10px 24px rgba(0,0,0,.35);transform:translateY(-2px)}
.fhead{display:flex;align-items:center;gap:8px}
.ficon{width:60px;height:60px;border-radius:10px;background:#0e1724;border:1px solid #1e2b3c;object-fit:cover}
.fcard h4{margin:0;font-size:14px;color:#e3ecf9}
.fcard p{margin:0;color:#bcd0ea;font-size:13px;line-height:1.3}

/* ===== [11] TABLAS ===== */
.pricing-table-nube{width:100%;max-width:960px;margin:20px auto;border-collapse:separate;border-spacing:0;border:1px solid #1e2b3c;border-radius:12px;overflow:hidden}
.pricing-table-nube th,.pricing-table-nube td{padding:14px 16px;border-bottom:1px solid #1e2b3c;text-align:left;vertical-align:middle}
.pricing-table-nube thead th{background:#0e1724;color:#dce8ff;font-size:16px}
.pricing-table-nube tbody tr:last-child td{border-bottom:none}
.pricing-table-nube .price{font-weight:700;font-size:1.1em;color:var(--brand);text-align:right}
.pricing-table-nube .plan-name{font-weight:700;color:var(--text)}
.pricing-table-nube .plan-desc{font-size:12px;color:var(--muted)}
.table-like{width:100%;border-collapse:separate;border-spacing:0;border:1px solid #1e2b3c;border-radius:12px;overflow:hidden;margin-bottom:20px}
.table-like th,.table-like td{padding:12px 14px;border-bottom:1px solid #1e2b3c}
.table-like tr:last-child td{border-bottom:none}
.table-like thead th{background:#0e1724;color:#dce8ff;text-align:left}
.table-like .highlight{background:rgba(45,212,191,.08);font-weight:700}
.table-like tbody tr{transition:background .16s ease,box-shadow .16s ease,transform .12s ease}
.table-like tbody tr:hover{background:radial-gradient(circle at top left,rgba(96,165,250,.13),#020617);box-shadow:0 10px 24px rgba(0,0,0,.35);transform:translateY(-1px)}

/* ===== [12] FAQ ===== */
.faq-wrap{display:grid;gap:10px}
.faq-item{border:1px solid #1e2b3c;border-radius:12px;background:#0f1622;overflow:hidden}
.faq-item>summary{list-style:none;cursor:pointer;padding:12px 14px;font-weight:700;display:flex;align-items:center;gap:8px;transition:background .16s ease,border-color .16s ease,box-shadow .16s ease,transform .12s ease}
.faq-item>summary::marker{display:none}
.faq-item>summary:hover{background:radial-gradient(circle at top left,rgba(96,165,250,.14),#020617);box-shadow:0 10px 24px rgba(0,0,0,.35);transform:translateY(-1px)}
.faq-item[open]>summary{background:#0e1724;border-bottom:1px solid #1e2b3c}
.faq-item p{padding:12px 14px;margin:0;color:#cfe3ff}

/* ===== [13] TOC ===== */
.toc{position:fixed;right:16px;bottom:16px;max-height:48vh;overflow:auto;background:rgba(15,24,38,.75);border:1px solid #1c2533;border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:6px;z-index:900;box-shadow:0 10px 24px rgba(0,0,0,.35);backdrop-filter:blur(6px);transition:all .2s ease}
.toc.collapsed{width:auto;max-height:none;padding:6px 10px;border-radius:999px;gap:0}
.toc.collapsed .toc-title,.toc.collapsed a,.toc.collapsed .toc-close{display:none}
.toc-title{font-weight:800;color:#b9c8de;margin-bottom:6px}
.toc a{padding:6px 8px;border-radius:10px;color:#cfe3ff;border:1px solid transparent}
.toc a:hover{border-color:#233347;background:#101b2a}

/* ===== [14] FOOTER ===== */
footer{padding:36px 0 12px;border-top:1px solid #11182725;color:#aebbd0}
.footer-grid{display:grid;gap:18px;grid-template-columns:1.6fr 1.2fr 1.2fr 1fr}
.footer-title{font-weight:700;color:#d8e3f6;margin:0 0 10px}
.contact-list{display:grid;gap:6px;font-size:14px}
.item .ico{width:22px}
.payments-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;align-items:center}
.payments-grid img{max-height:28px;object-fit:contain;filter:grayscale(1);opacity:.9}
.brands-col{display:grid;gap:10px}
.brand-item img{max-height:26px;object-fit:contain;filter:grayscale(.1);background:#0e1520;border:1px solid #1c2533;border-radius:10px;padding:6px}
.ally-col{display:grid;gap:10px;justify-items:end}
.ally-col img{height:46px;object-fit:contain;background:#0e1520;border:1px solid #1c2533;border-radius:10px;padding:8px}
.footer-bottom{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between;margin-top:20px;padding-top:12px;border-top:1px solid #1c2533}

/* =========================================================
   [15] CALC NUBE
========================================================= */
.calc-nube .grid-nube{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-bottom:10px}
@media(max-width:980px){.calc-nube .grid-nube{grid-template-columns:1fr}}
.calc-nube select,.calc-nube input[type="number"]{width:100%;display:block;padding:8px 10px;border-radius:10px;border:1px solid #243248;background:#0e1724;color:#e8eef6}
.calc-nube-table{width:100%;max-width:640px;margin:0 auto;border-collapse:separate;border-spacing:0;border:1px solid #1e2b3c;border-radius:10px;overflow:hidden;background:#0e1724}
.calc-nube-table thead th{background:#0e1724;color:#dce8ff;text-align:left;border-bottom:1px solid #1e2b3c;font-weight:700}
.calc-nube-table th,.calc-nube-table td{padding:10px 12px;border-bottom:1px solid #1e2b3c}
.calc-nube-table tr:last-child td{border-bottom:none}

/* =========================================================
   [16] CALC ESCRITORIO (sin :has)
========================================================= */
.calc-strip{display:grid;gap:14px;max-width:100%}
.calc-row{max-width:100%}
.calc-row>*{min-width:0} /* clave anti overflow */
.calc-container{background:linear-gradient(135deg,#0f1622,#0f1724);border:1px solid #1c2533;border-radius:16px;padding:14px;min-height:220px;box-shadow:var(--shadow);position:relative;min-width:0}
.placeholder{background:linear-gradient(180deg,#0e1826,#0f1622);border:1px solid #1c2533;border-radius:16px;padding:14px;display:flex;align-items:center;justify-content:center;color:#cfe3ff;text-align:center;min-height:180px;height:100%;min-width:0}
.placeholder .note{width:100%;max-width:100%;text-align:left;border:1px dashed rgba(148,163,184,.35);background:rgba(17,23,35,.45);border-radius:14px;padding:14px}
.placeholder .note strong{display:block;line-height:1.25}
.placeholder .note small{display:block;opacity:.9;margin-top:4px}

/* Form + fields */
.calc-container label{display:block;margin-top:6px;color:#cfe3ff;font-weight:600;font-size:13px}
.calc-container select,.calc-container input[type="number"],.calc-container input[type="text"]{width:100%;padding:8px 10px;border-radius:10px;border:1px solid #243248;background:#0e1724;color:#e8eef6;margin:6px 0}
.calc-container form{display:grid!important;grid-template-columns:minmax(0,1fr) minmax(0,1fr)!important;gap:12px!important;align-items:start}
.calc-container form>*{min-width:0}
.calc-container .field.lic{grid-column:1!important}
.calc-container .field.rfc{grid-column:2!important}
.calc-container .op-label{grid-column:1/-1!important}
.calc-container .field.usr{grid-column:1!important}
.calc-container .inst-wrap{grid-column:2!important}
.calc-container .instalacion-box{display:flex!important;align-items:center!important;gap:10px!important;padding:10px 12px;border:1px dashed #2a3b55;border-radius:10px;background:rgba(14,23,36,.35);flex-wrap:nowrap}
.calc-container .instalacion-box>label{display:flex!important;align-items:center!important;gap:10px!important;margin:0!important}
.calc-container .instalacion-box input[type="checkbox"]{margin:0!important}
.calc-container .instalacion-box .inst-hint{display:inline;margin-left:6px;color:#aebbd0;line-height:1.25}

/* Tabla calc */
.calc-container table{width:100%;max-width:640px;margin:10px auto 0;border-collapse:separate;border-spacing:0;border:1px solid #1e2b3c;border-radius:12px;overflow:hidden;background:#0e1724}
.calc-container thead th{background:#0e1724;color:#dce8ff;text-align:left;border-bottom:1px solid #1e2b3c;padding:12px 14px;font-weight:700}
.calc-container td,.calc-container th{padding:10px 12px;border-bottom:1px solid #1e2b3c}
.calc-container tr:last-child td{border-bottom:none}
.calc-container .price,.calc-container .total,.calc-container .monto{font-weight:900;color:var(--brand);text-align:right}

/* Alineación importes “parejitos” */
.calc-container .calc-table th:last-child,.calc-container .calc-table td:last-child,.combined-table th:last-child,.combined-table td:last-child{text-align:right!important;white-space:nowrap;font-variant-numeric:tabular-nums;font-feature-settings:"tnum" 1}
.calc-container .calc-table td:last-child strong,.combined-table strong{font-weight:900}

/* Switch nube/escritorio */
#calc-primary{display:block!important}
.nube-only{display:none}.desk-only{display:none}
body[data-calc="nube"] .nube-only{display:initial}
body[data-calc="nube"] .desk-only{display:none!important}
body[data-calc="nube"] .pricing-table-nube{display:table}
body[data-calc="nube"] #calc-slot-2,body[data-calc="nube"] #calc-secondary,body[data-calc="nube"] #calc-tertiary,body[data-calc="nube"] #add-more-panel,body[data-calc="nube"] #combined-wrap,body[data-calc="nube"] .icons-wrap{display:none!important}
body[data-calc="escritorio"] .nube-only{display:none!important}
body[data-calc="escritorio"] .desk-only{display:initial}
body[data-calc="escritorio"] .pricing-table-nube{display:none!important}
body[data-calc="escritorio"] #calc-slot-2,body[data-calc="escritorio"] #calc-secondary,body[data-calc="escritorio"] #calc-tertiary,body[data-calc="escritorio"] #add-more-panel,body[data-calc="escritorio"] #combined-wrap,body[data-calc="escritorio"] .icons-wrap{display:initial}

/* =========================================================
   [17] RESUMEN COMBINADO (MXN + letra) — centrado y compacto
========================================================= */
#combined-wrap{display:flex;justify-content:center}
#combined-wrap .combined-summary{width:min(720px,100%);margin:14px auto 0;padding:14px 16px;border-radius:14px;background:linear-gradient(180deg,#0e1826,#0f1622);border:1px solid #1c2533;box-shadow:0 10px 30px rgba(0,0,0,.25)}
#combined-wrap .cs-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px;flex-wrap:wrap}
#combined-wrap .cs-title{font-weight:800;letter-spacing:.2px;font-size:14px;opacity:.95}
#combined-wrap .total-amount{font-size:16px;font-weight:900}
#combined-wrap .amount-letter{border:1px dashed rgba(255,255,255,.16);border-radius:12px;padding:10px 12px;font-weight:700;letter-spacing:.2px;line-height:1.25;white-space:normal;word-break:break-word;background:rgba(17,23,35,.35);color:#cfe3ff}
@media(max-width:520px){#combined-wrap .combined-summary{width:min(520px,100%);padding:12px}#combined-wrap .total-amount{font-size:15px}#combined-wrap .amount-letter{padding:10px;font-size:13px}}

/* =========================================================
   [18] ICONS CAROUSEL (Panel -15%) — MENOS APRETADO
   - Soluciona tu “se ven apretados” (img1)
========================================================= */
.icons-carousel{position:relative;max-width:100%;margin-top:10px;padding:0 50px} /* más aire para flechas */
.icons-wrap{display:flex!important;flex-direction:row!important;flex-wrap:nowrap!important;align-items:stretch;justify-content:flex-start;gap:14px;overflow-x:auto;overflow-y:hidden;padding:12px 6px 12px;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;overscroll-behavior-x:contain;max-width:100%}
.icons-wrap>*{flex:0 0 auto;min-width:0}
.sys-icon{position:relative;flex:0 0 186px;max-width:186px;min-width:186px;min-height:200px;display:grid;grid-template-rows:auto auto auto;gap:8px;align-items:center;justify-items:center;padding:14px;border-radius:16px;border:1px solid #1e2b3c;background:#0f1622;cursor:pointer;transition:transform .15s ease,border-color .15s ease,box-shadow .15s ease;overflow:hidden}
.sys-icon:hover{border-color:#284061;transform:translateY(-2px);box-shadow:0 8px 18px rgba(0,0,0,.22)}
.sys-icon.active{outline:2px solid rgba(96,165,250,.4);border-color:#38649a}
.sys-icon img{width:90px;height:90px;border-radius:12px;object-fit:cover;background:#0e1724;border:1px solid #1e2b3c}
.sys-icon strong{font-size:13px;color:#e3ecf9;text-align:center;white-space:normal;overflow-wrap:anywhere}
.sys-icon .sys-price{font-size:12px;color:#aebbd0}
.sys-icon .sin15{position:absolute;top:6px;right:6px;background:#301a1a;border:1px solid #5c2a2a;color:#ffb4b4;border-radius:999px;padding:3px 8px;font-size:10px}
.icons-carousel .arrowCircle{position:absolute;top:50%;transform:translateY(-50%);z-index:5}
.icons-carousel .arrowCircle.prev{left:8px}.icons-carousel .arrowCircle.next{right:8px}

/* =========================================================
   [19] CALC GRID FINAL — 1 / 2 / 3 calculadoras
   (Usa clases: .has-calc-2 / .has-calc-3 puestas por tu JS)
========================================================= */

/* MOBILE/TABLET: siempre 1 columna */
@media(max-width:980px){
  .calc-row{display:grid;grid-template-columns:1fr!important;gap:14px}
  #calc-primary,#calc-secondary,#calc-tertiary,#calc-slot-2,#add-more-panel{grid-column:auto!important}
}

/* DESKTOP base (1 calc + panel -15 a la derecha) */
@media(min-width:981px){
  .calc-row{display:grid;grid-template-columns:minmax(0,1.25fr) minmax(0,.75fr);gap:14px;align-items:start}
  #calc-primary{grid-column:1}
  #calc-slot-2{grid-column:2;align-self:start}
  #calc-secondary,#calc-tertiary{display:none!important}
  #add-more-panel{display:none!important}
}

/* DESKTOP: 2 calcs (2 columnas, y panel “tercer sistema” centrado abajo) */
@media(min-width:981px){
  html.has-calc-2 .calc-row,body.has-calc-2 .calc-row{grid-template-columns:minmax(0,1fr) minmax(0,1fr)}
  html.has-calc-2 #calc-secondary,body.has-calc-2 #calc-secondary,
  html.has-calc-2 #calc-tertiary, body.has-calc-2 #calc-tertiary{display:block!important} /* soporta tu HTML actual */
  html.has-calc-2 #calc-slot-2,body.has-calc-2 #calc-slot-2{display:none!important}

  /* tu “panel” (add-more-panel) centrado abajo */
  html.has-calc-2 #add-more-panel,body.has-calc-2 #add-more-panel{
    display:flex!important;grid-column:1/-1!important;justify-content:center!important;margin-top:14px!important
  }
  html.has-calc-2 #add-more-panel>.note,body.has-calc-2 #add-more-panel>.note{
    width:min(880px,100%)!important;margin:0 auto!important
  }
  html.has-calc-2 #add-more-panel.placeholder,body.has-calc-2 #add-more-panel.placeholder{
    width:100%!important
  }
}

/* DESKTOP: 3 calcs (3 columnas, se ocultan paneles) */
@media(min-width:981px){
  html.has-calc-3 .calc-row,body.has-calc-3 .calc-row{grid-template-columns:minmax(0,1fr) minmax(0,1fr) minmax(0,1fr)}
  html.has-calc-3 #calc-secondary,body.has-calc-3 #calc-secondary{display:block!important}
  html.has-calc-3 #calc-tertiary,body.has-calc-3 #calc-tertiary{display:block!important}
  html.has-calc-3 #calc-slot-2,body.has-calc-3 #calc-slot-2{display:none!important}
  html.has-calc-3 #add-more-panel,body.has-calc-3 #add-more-panel{display:none!important}
}

/* =========================================================
   [20] FIX: flechas ancladas + anti “flechas al body”
========================================================= */
.carousel,.carouselX,.icons-carousel,.listSlider{position:relative}
body>.arrowCircle{display:none!important}

/* =========================================================
   [21] OVERFLOW HORIZONTAL (sistemas/tablas)
========================================================= */
html,body{max-width:100%;overflow-x:hidden}
.container,main.container{max-width:100%;overflow-x:hidden}
.table-like{width:100%;min-width:720px}
#comparativa .card.body{overflow-x:auto;-webkit-overflow-scrolling:touch}

/* =========================================================
   [22] NOMINAS — Integraciones (#integra)
========================================================= */
#integra .carouselX .track{padding:10px 46px}
#integra .carouselX .sys{background:linear-gradient(180deg,#0f1622,#0b1220);border:1px solid rgba(43,60,86,.75);box-shadow:0 14px 32px rgba(0,0,0,.35)}
#integra .carouselX .sys:hover{box-shadow:0 18px 44px rgba(0,0,0,.45)}
#integra .carouselX .sys img{width:min(220px,88%);height:56px;object-fit:contain;border-radius:12px;background:transparent;border:none;margin:6px auto 10px}
@media(max-width:980px){#integra .carouselX .sys img{height:62px}}

/* =========================================================
   [23] Header V7 (.gh) compat + drawer no recortado
========================================================= */
#gh-header.gh{position:fixed;top:0;left:0;right:0;width:100%;z-index:2147483000}
html.gh-open,body.gh-open{overflow:hidden!important;height:100%!important}
#gh-drawer.gh-drawer{height:100dvh;max-height:100dvh;padding-top:env(safe-area-inset-top,0px);padding-bottom:env(safe-area-inset-bottom,0px);-webkit-overflow-scrolling:touch;transform:translate3d(105%,0,0);will-change:transform}
html.gh-open #gh-drawer.gh-drawer{transform:translate3d(0,0,0)}

/* =========================================================
   [24] RESPONSIVE GLOBAL
========================================================= */
@media(max-width:980px){
  nav ul{display:none}
  .burger{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;border-radius:10px;border:1px solid #1c2533;background:#101722}
  .mobile{display:none}.mobile.open{display:block}
  .mobile a{display:block;padding:12px 0;border-bottom:1px solid #1c2533}
  .toc{right:10px;bottom:10px;width:86vw}
  .footer-grid{grid-template-columns:1fr}
  .carousel{min-height:280px}
}
@media(max-width:768px){
  body{scroll-padding-top:68px}
  .container{padding-inline:16px}
  h1{font-size:clamp(24px,7vw,30px)}
  h2{font-size:clamp(18px,5.5vw,24px)}
  section{padding:18px 0}
  .grid-2,.grid-3,.feature-grid{grid-template-columns:1fr;min-width:0}
  .grid-2>*,.grid-3>*,.feature-grid>*{min-width:0}
  .listItem{grid-template-columns:1fr;text-align:left}
  .listIcon{justify-self:flex-start}
  .calc-container form{grid-template-columns:1fr!important}
  .calc-container .field.lic,.calc-container .field.rfc,.calc-container .field.usr,.calc-container .op-label,.calc-container .inst-wrap{grid-column:1!important}
  .calc-container .instalacion-box{flex-wrap:wrap}
  .card{overflow:visible} /* evita cortes en móvil */
  .carousel{min-height:unset}
  .carousel-track{height:auto;align-items:stretch}
  .carousel-slide{align-items:stretch}
  .arrowCircle{width:40px;height:40px}
  .arrowCircle.prev{left:6px}.arrowCircle.next{right:6px}
  .reel-embed{width:100%!important;max-width:520px!important}
}
@media(max-width:520px){
  .btn{width:100%;justify-content:center}
  .pill{font-size:12px;padding:7px 10px}
  .card.body,.card .body{padding:10px}
  .icons-carousel{padding:0 46px}
  .sys-icon{flex-basis:176px;min-width:176px;max-width:176px}
}

/* =========================================================
   [25] Ocultar SOLO el título superior en Beneficios (si aplica)
========================================================= */
#beneficios .grid-2>div:first-child>h2.title-gradient{display:none!important}

/* =========================================================
   EXPIRITI — FIX: quitar “bloque vacío” entre calculadoras
   - Cuando hay 2 calcs: oculta #calc-slot-2 (ya no se usa)
   - Muestra y centra el panel de “Agregar un tercer sistema”
   - Cuando hay 3 calcs: oculta panel de “Agregar un tercer sistema”
========================================================= */

/* 2 calculadoras */
html.has-calc-2 #calc-slot-2,
body.has-calc-2 #calc-slot-2{
  display:none!important;
}

/* En 2 calcs, el panel “Agregar un tercer sistema” debe aparecer y centrarse */
html.has-calc-2 #add-more-panel,
body.has-calc-2 #add-more-panel{
  display:flex!important;
  justify-content:center!important;
  align-items:stretch!important;
  grid-column:1 / -1!important;
  width:100%!important;
  margin-top:14px!important;
}

/* Limita ancho “bonito” del panel en desktop */
@media (min-width: 981px){
  html.has-calc-2 #add-more-panel,
  body.has-calc-2 #add-more-panel{
    padding:0!important;           /* el padding va en .note */
    background:transparent!important;
    border:0!important;
    box-shadow:none!important;
  }
  html.has-calc-2 #add-more-panel .note,
  body.has-calc-2 #add-more-panel .note{
    width:min(980px,100%)!important;
    margin:0 auto!important;
  }
}

/* 3 calculadoras: ya no necesitas “Agregar un tercer sistema” */
html.has-calc-3 #add-more-panel,
body.has-calc-3 #add-more-panel{
  display:none!important;
}

/* Si por cualquier razón aparece, evita que “reserve” altura rara */
#calc-slot-2:empty,
#add-more-panel:empty{
  display:none!important;
}

/* === EXPIRITI PATCH CALC LAYOUT (compact + center + remove empty gap) === */
@media(min-width:981px){#calc-primary.calc-container,#calc-primary .calc-container{max-width:820px;margin:0 auto}#calc-primary .calc-results table{max-width:640px}#calc-primary form{max-width:820px;margin:0 auto}}
@media(min-width:981px){.calc-row{align-items:center!important}#calc-slot-2{align-self:center!important}#calc-slot-2.placeholder{height:auto!important;min-height:unset!important;padding:10px 0!important}#calc-slot-2.placeholder>.note{max-width:520px!important;margin:0 auto!important}#calc-slot-2 .note{margin:0 auto!important}}
@media(min-width:981px){html.has-calc-2 .calc-row,body.has-calc-2 .calc-row{align-items:start!important}}
html.has-calc-2 #calc-slot-2,body.has-calc-2 #calc-slot-2,html.has-calc-3 #calc-slot-2,body.has-calc-3 #calc-slot-2{display:none!important}
#calc-slot-2.placeholder{background:transparent!important;border:0!important;box-shadow:none!important}
#calc-slot-2 .note{border:1px dashed rgba(148,163,184,.28)!important;background:rgba(17,23,35,.28)!important}
#calc-slot-2:empty{display:none!important}

/* =========================================================
   EXPIRITI — PATCH: ocultar contenedores vacíos (calc-empty)
   - Evita el “bloque azul” (#calc-tertiary / #calc-secondary vacíos)
   - Sin :has(), usa la clase que ya pone tu JS (markEmpty)
========================================================= */

/* Oculta cualquier calc marcado como vacío (solo lo aplicas a secondary/tertiary/slot2) */
#calc-secondary.calc-empty,
#calc-tertiary.calc-empty,
#calc-slot-2.calc-empty{
  display:none!important;
  min-height:0!important;
  padding:0!important;
  border:0!important;
  background:transparent!important;
  box-shadow:none!important;
}

/* Si por reglas de layout se “re-muestran” en has-calc-2/3, esto gana */
html.has-calc-2 #calc-secondary.calc-empty,
body.has-calc-2 #calc-secondary.calc-empty,
html.has-calc-2 #calc-tertiary.calc-empty,
body.has-calc-2 #calc-tertiary.calc-empty,
html.has-calc-3 #calc-secondary.calc-empty,
body.has-calc-3 #calc-secondary.calc-empty,
html.has-calc-3 #calc-tertiary.calc-empty,
body.has-calc-3 #calc-tertiary.calc-empty{
  display:none!important;
}

/* =========================================================
   EXPIRITI — PATCH: ocultar SOLO calculadoras vacías
   (NO ocultar #calc-slot-2 porque ahí vive tu carrusel/panel)
========================================================= */

#calc-secondary.calc-empty,
#calc-tertiary.calc-empty{
  display:none!important;
  min-height:0!important;
  padding:0!important;
  border:0!important;
  background:transparent!important;
  box-shadow:none!important;
}

html.has-calc-2 #calc-secondary.calc-empty,
body.has-calc-2 #calc-secondary.calc-empty,
html.has-calc-2 #calc-tertiary.calc-empty,
body.has-calc-2 #calc-tertiary.calc-empty,
html.has-calc-3 #calc-secondary.calc-empty,
body.has-calc-3 #calc-secondary.calc-empty,
html.has-calc-3 #calc-tertiary.calc-empty,
body.has-calc-3 #calc-tertiary.calc-empty{
  display:none!important;
}

/* =========================================================
   EXPIRITI — FIX: carrusel muy separado en desktop
   Causa: #calc-primary tenía max-width + margin:auto (se centraba)
========================================================= */
@media(min-width:981px){
  /* 1) Quita el “centrado” del primary que abre el hueco */
  #calc-primary{
    max-width:none!important;
    margin:0!important;
    justify-self:stretch!important;
  }

  /* 2) Ajusta la grilla para que el panel quede más cerca */
  .calc-row{
    grid-template-columns:minmax(0,1.15fr) minmax(320px,.85fr)!important;
    gap:12px!important;
    align-items:start!important;
  }

  /* 3) Panel/carrusel: controla ancho y alineación */
  #calc-slot-2{
    justify-self:end!important;
    width:min(420px,100%)!important;
  }
}

