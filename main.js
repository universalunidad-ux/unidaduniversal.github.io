

function(){document.querySelectorAll(".carouselX").forEach(function(root){var track=root.querySelector(".track"),prev=root.querySelector(".arrowCircle.prev"),next=root.querySelector(".arrowCircle.next"),dotsWrap=root.querySelector(".group-dots"),items=[].slice.call(track.querySelectorAll(".sys"));items.forEach(function(card){card.setAttribute("role","link");card.setAttribute("tabindex","0");var open=function(){var href=card.dataset.href;if(href)window.open(href,"_blank","noopener")};card.addEventListener("click",open);card.addEventListener("keydown",function(e){if(e.key==="Enter"||e.key===" "){e.preventDefault();open()}})});var perPage=function(){return window.innerWidth<=980?1:3},groupsCount=function(){return Math.max(1,Math.ceil(items.length/perPage()))},groupW=function(){return track.clientWidth};function renderDots(){dotsWrap.innerHTML="";return Array.from({length:groupsCount()},function(_,i){var b=document.createElement("button");b.className="dot"+(i===0?" active":"");b.setAttribute("aria-label","Ir al grupo "+(i+1));b.addEventListener("click",function(){goTo(i)});dotsWrap.appendChild(b);return b})}var dots=renderDots(),idx=0;function setDot(i){dots.forEach(function(d,k){d.classList.toggle("active",k===i)})}function goTo(i){var total=groupsCount();idx=((i%total)+total)%total;track.scrollTo({left:idx*groupW(),behavior:"smooth"});setDot(idx);toggleControls()}prev&&prev.addEventListener("click",function(){goTo(idx-1)});next&&next.addEventListener("click",function(){goTo(idx+1)});function toggleControls(){var show=groupsCount()>1;if(prev)prev.style.display=show?"":"none";if(next)next.style.display=show?"":"none";if(dotsWrap)dotsWrap.style.display=show?"":"none"}window.addEventListener("resize",function(){var oldLen=dots.length,newLen=groupsCount();if(oldLen!==newLen){dots=renderDots()}goTo(idx)});toggleControls();goTo(0)})})();
