/* =========================================================
   Expiriti - mainservicios.css (OPTIMIZADO 2025)
   Incluye: Mobile-First, Viewport Units (dvh), Text Balance & Safe Areas
   ========================================================= */

/* ---------- Tokens & Variables ---------- */
:root {
  --bg: #0b0f14; --bg-2: #0d1219; --card: #111723;
  --muted: #95a2b3; --text: #e8eef6;
  --brand: #2dd4bf; --brand-2: #60a5fa;
  --ok: #22c55e; --warn: #f59e0b; --err: #ef4444;
  --maxw: 1200px;
  --page-padding: clamp(18px, 4vw, 42px);
  --radius: 14px; --radius-lg: 16px; --radius-md: 12px; --radius-pill: 999px;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
  --shadow-soft: 0 10px 26px rgba(0,0,0,.35);
  --shadow-elevated: 0 18px 40px rgba(0,0,0,.5);
  --surface-base: #0f1622; --surface-elevated: #0f1724;
  --border-subtle: #1c2533; --border-strong: #284061;
  --transition-fast: .14s ease-out; --transition-med: .18s ease-out;
  --gap: 14px;
}

/* =========================================================
   Base & Reset Moderno
   ========================================================= */
* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  font-family: Inter, system-ui, -apple-system, sans-serif;
  background: linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
  color: var(--text);
  margin: 0;
  scroll-padding-top: 84px;
  /* UPGRADE: dvh evita saltos por la barra del navegador móvil */
  min-height: 100dvh;
  /* UPGRADE: Mejora respuesta táctil evitando zoom accidental */
  touch-action: manipulation;
}
a { color: inherit; text-decoration: none; }
img, video, iframe { max-width: 100%; height: auto; display: block; } /* height:auto mantiene ratio */

.container {
  width: 100%; max-width: calc(var(--maxw) + var(--page-padding) * 2);
  margin: 0 auto; padding-inline: var(--page-padding);
}

/* =========================================================
   Tipografía Inteligente
   ========================================================= */
.hero { padding: 26px 0 0; }
/* UPGRADE: text-wrap: balance evita títulos con palabras huérfanas */
h1, h2, h3, h4 { margin: 0 0 10px; text-wrap: balance; }
h1 { font-size: clamp(28px, 3.4vw, 42px); line-height: 1.1; margin-bottom: 14px; }
h2 { font-size: clamp(22px, 2.5vw, 32px); color: #f9fafb; } /* Alto contraste */
p, .lead { text-wrap: pretty; } /* UPGRADE: Párrafos más estéticos */
.lead { color: #e6edf9; font-size: clamp(16px, 1.2vw + 1px, 18px); max-width: 68ch; }
.hint { color: #aebbd0; opacity: .9; font-size: 12px; }
.title-gradient { background: linear-gradient(90deg, var(--brand), var(--brand-2)); -webkit-background-clip: text; background-clip: text; color: transparent; }
.badges { display: flex; flex-wrap: wrap; gap: 8px; margin: 6px 0 0; }
.badge { display: inline-block; padding: 6px 10px; border-radius: var(--radius-pill); background: #0f1c2c; border: 1px solid #203044; color: #cfe3ff; font-size: 12px; }
.lock-note { margin: 8px 0 0; font-size: 12px; color: #94a8c6; display: inline-flex; gap: 6px; align-items: center; }
.lock-note::before { content: "⚠️"; }

section { padding: 26px 0; border-top: 1px solid #11182725; }

/* UPGRADE: Grillas Intrínsecas (menos media queries) */
.grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(min(100%, 360px), 1fr)); gap: 14px; align-items: start; }
.grid-2.align-center { align-items: center; }
.grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr)); gap: 14px; }
.stack { display: grid; gap: 12px; }

/* =========================================================
   Componentes: Cards & Botones
   ========================================================= */
.card { background: radial-gradient(circle at top left, rgba(15,23,42,.85), #0b1018); border-radius: var(--radius-lg); border: 1px solid var(--border-subtle); box-shadow: var(--shadow-soft); }
.card .body { padding: 12px; color: #c8d3e5; }
.card--interactive { position: relative; background: linear-gradient(135deg, var(--surface-base), var(--surface-elevated)); border-radius: var(--radius-lg); border: 1px solid var(--border-subtle); box-shadow: var(--shadow-soft); transition: all var(--transition-med); }
.card--interactive:hover { background: radial-gradient(circle at top left, rgba(96,165,250,.18), #0b1018); border-color: var(--brand-2); box-shadow: var(--shadow-elevated); transform: translateY(-2px); }

/* Botones (Thumb-friendly: min 44px height implícito) */
.btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 14px; border-radius: var(--radius-pill); border: 1px solid #1c2533; background: #121a25; box-shadow: var(--shadow); font-weight: 700; font-size: 14px; cursor: pointer; white-space: nowrap; transition: all var(--transition-med); }
.btn:focus-visible { outline: 2px solid var(--brand); outline-offset: 2px; }
.btn-grad-green { background: linear-gradient(145deg, #16a34a, #22c55e); color: #fff; border: none; }
.btn-grad-blue { background: linear-gradient(145deg, #2563eb, #3b82f6); color: #fff; border: none; }
.btn-ghost { background: #121a25; color: #e8eef6; }
.btn:hover { transform: translateY(-2px); filter: brightness(1.1); }

/* =========================================================
   Carruseles & Sliders
   ========================================================= */
.carousel { position: relative; border-radius: var(--radius); overflow: hidden; border: 1px solid #1c2533; background: #0f1622; min-height: 420px; }
.carousel-track { display: flex; scroll-snap-type: x mandatory; overflow-x: auto; scroll-behavior: smooth; height: calc(100% - 38px); scrollbar-width: thin; scrollbar-color: #020617 transparent; overscroll-behavior-x: contain; }
.carousel-slide { min-width: 100%; width: 100%; display: flex; align-items: center; justify-content: center; scroll-snap-align: start; }
.carousel-nav { display: flex; gap: 8px; justify-content: center; padding: 10px; background: #0e1724; border-top: 1px solid #1c2533; }
.dot { width: 12px; height: 12px; padding: 10px; border-radius: 999px; background: #223044; border: none; opacity: .6; cursor: pointer; background-clip: content-box; } /* Accesible touch target */
.dot.active { background-color: var(--brand); opacity: 1; }

.arrowCircle { position: absolute; top: 50%; transform: translateY(-50%); width: 44px; height: 44px; border-radius: 999px; background: rgba(15,26,42,.9); border: 1px solid #2b3c56; display: grid; place-items: center; cursor: pointer; z-index: 3; color: #fff; box-shadow: 0 6px 18px rgba(0,0,0,.35); transition: transform .1s; }
.arrowCircle:active { transform: translateY(-50%) scale(0.95); }
.arrowCircle.prev { left: 8px; } .arrowCircle.next { right: 8px; }

/* Carrusel Sistemas (Horizontal) */
.carouselX { position: relative; border-radius: var(--radius-lg); background: linear-gradient(180deg, #0e1826, #0f1622); border: 1px solid #1c2533; padding: 8px; box-shadow: var(--shadow-soft); }
.carouselX .track { display: flex; gap: 12px; overflow-x: auto; padding: 4px; min-height: 220px; scroll-snap-type: x mandatory; scrollbar-width: thin; }
.carouselX .sys { flex: 0 0 280px; scroll-snap-align: start; background: linear-gradient(135deg, #0f1622, #0f1724); border: 1px solid #1c2533; border-radius: var(--radius-md); padding: 16px; display: flex; flex-direction: column; align-items: center; text-align: center; transition: all var(--transition-med); }
.carouselX .sys:hover { border-color: var(--brand-2); transform: translateY(-2px); }
.carouselX .sys img { width: 72px; height: 72px; margin-bottom: 10px; }
@media(max-width:600px) { .carouselX .sys { flex: 0 0 85%; } } /* Mobile first adjust */

/* =========================================================
   Tablas Responsivas (Pricing)
   ========================================================= */
/* UPGRADE: Overflow automático para tablas en móvil */
.pricing-table-nube { width: 100%; display: block; overflow-x: auto; -webkit-overflow-scrolling: touch; border-collapse: separate; border-spacing: 0; border: 1px solid #1e2b3c; border-radius: 12px; margin: 20px auto; }
.pricing-table-nube th, .pricing-table-nube td { padding: 14px 16px; border-bottom: 1px solid #1e2b3c; text-align: left; white-space: nowrap; }
.pricing-table-nube thead th { background: #0e1724; color: #dce8ff; position: sticky; left: 0; }
.pricing-table-nube .price { color: var(--brand); font-weight: 700; text-align: right; }

.table-like { width: 100%; display: block; overflow-x: auto; border: 1px solid #1e2b3c; border-radius: 12px; margin-bottom: 20px; background: var(--surface-base); }
.table-like th, .table-like td { padding: 12px 14px; border-bottom: 1px solid #1e2b3c; white-space: nowrap; }
.table-like .highlight { background: rgba(45,212,191,.08); font-weight: 700; }

/* =========================================================
   Elementos Flotantes (Safe Areas)
   ========================================================= */
.toc {
  position: fixed; width: 240px; max-height: 48vh; overflow: auto;
  background: rgba(15,24,38,.85); border: 1px solid #1c2533; border-radius: 14px; padding: 12px;
  z-index: 900; backdrop-filter: blur(8px);
  /* UPGRADE: Respeta la "isla" o barra de iPhone */
  bottom: calc(16px + env(safe-area-inset-bottom));
  right: calc(16px + env(safe-area-inset-right));
  transition: all .2s ease;
}
.toc.collapsed { width: auto; max-height: none; padding: 6px 10px; border-radius: 999px; }
.toc.collapsed :not(.toc-icon) { display: none; } /* Simplificado */
.toc a { display: block; padding: 6px 8px; border-radius: 8px; color: #cfe3ff; font-size: 13px; }
.toc a:hover { background: #101b2a; color: var(--brand); }

/* =========================================================
   FAQ & Features
   ========================================================= */
.faq-item { border: 1px solid #1e2b3c; border-radius: 12px; background: var(--surface-base); overflow: hidden; margin-bottom: 10px; transition: all .2s; }
.faq-item[open] { border-color: var(--brand-2); box-shadow: var(--shadow-soft); }
.faq-item summary { padding: 14px; cursor: pointer; font-weight: 700; display: flex; align-items: center; gap: 8px; list-style: none; }
.faq-item p { padding: 0 14px 14px; margin: 0; color: #cfe3ff; line-height: 1.5; }

.pillbar { display: flex; flex-wrap: wrap; gap: 10px; margin: 10px 0 14px; }
.pill { padding: 8px 12px; border-radius: 999px; border: 1px solid #1e2b3c; background: #0f1c2c; color: #cfe3ff; font-weight: 700; font-size: 13px; cursor: pointer; transition: .2s; }
.pill:hover, .pill.active { background: linear-gradient(145deg, var(--brand), var(--brand-2)); color: #0b0f14; border-color: transparent; }

.feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 12px; }
.feature-grid .fcard { border-radius: var(--radius-md); border: 1px solid #1e2b3c; background: linear-gradient(135deg, #0f1622, #0f1724); padding: 14px; transition: .2s; }
.feature-grid .fcard:hover { border-color: var(--brand-2); transform: translateY(-2px); }
.fhead { display: flex; gap: 10px; align-items: center; margin-bottom: 8px; }
.ficon { width: 42px; height: 42px; object-fit: contain; }

/* =========================================================
   Video & YouTube Lite (Performance)
   ========================================================= */
.yt-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(min(100%, 400px), 1fr)); gap: 14px; }
.yt-lite {
  background-color: #000; position: relative; display: block;
  aspect-ratio: 16/9; border-radius: 12px; border: 1px solid #1c2533; overflow: hidden; width: 100%; cursor: pointer;
  background-size: cover; background-position: center;
}
.yt-lite::before { /* Botón Play CSS */
  content: ''; display: block; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
  width: 60px; height: 40px; background: rgba(33,33,33,.8); border-radius: 10px; z-index: 1; transition: .2s;
}
.yt-lite:hover::before { background: #f00; }
.yt-lite::after {
  content: ""; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
  border: solid transparent; border-width: 10px 0 10px 16px; border-left-color: #fff; z-index: 2; pointer-events: none;
}

/* Reels (Vertical) */
.reel-embed { position: relative; width: 100%; max-width: 320px; aspect-ratio: 9/16; border-radius: 16px; overflow: hidden; border: 1px solid #111827; margin: 0 auto; background: #000; }
.reel-embed iframe { position: absolute; inset: 0; width: 100%; height: 100%; border: 0; }
#carouselReelsSoporte .carousel-track { overflow-y: hidden; scrollbar-width: none; } 
#carouselReelsSoporte .carousel-track::-webkit-scrollbar { display: none; }

/* =========================================================
   Sección Home / Hero
   ========================================================= */
.hero-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(min(100%, 480px), 1fr)); gap: 20px; align-items: center; }
.hero-card { background: radial-gradient(at 30% -20%, rgba(45,212,191,.15), transparent 50%), #0d131d; border: 1px solid #1b2535; border-radius: 18px; padding: 20px; }

/* Galería Hero */
.hero-gallery-card { padding: 18px; background: #0b1018; border-radius: 24px; border: 1px solid rgba(255,255,255,.08); }
.hero-group-tab { border-radius: 999px; border: 1px solid rgba(255,255,255,.1); padding: 6px 12px; font-size: 13px; cursor: pointer; background: rgba(255,255,255,.05); color: #ccc; }
.hero-group-tab.active { background: linear-gradient(90deg, #14b8ff, #46e1a0); color: #000; font-weight: 600; border: none; }
.hero-carousel .carousel-track { scrollbar-width: none; }

/* Inline Products Bar */
.productos-inline-bar { display: flex; flex-wrap: wrap; gap: 16px; align-items: center; justify-content: space-between; padding: 10px 0 20px; }
.prod-title { font-size: clamp(20px, 4vw, 28px); font-weight: 700; white-space: nowrap; }
.prod-tabs-shell { display: flex; overflow-x: auto; gap: 8px; padding: 6px; border-radius: 999px; background: #050816; border: 1px solid #1f2a3a; scrollbar-width: none; }

/* =========================================================
   Badges & Utilitarios
   ========================================================= */
.gradient-word { background: linear-gradient(90deg, var(--brand), var(--brand-2)); -webkit-background-clip: text; color: transparent; }
.tag-nube { background: #0f1c2c; border: 1px solid #203044; color: #93c5fd; padding: 4px 8px; border-radius: 999px; font-size: 12px; }
.tag-conecta { background: #0f1c2c; border: 1px solid #166534; color: #86efac; padding: 4px 8px; border-radius: 999px; font-size: 12px; }

/* Container Queries (cq) para componentes inteligentes */
.section-cq { container-type: inline-size; }
@container (max-width: 420px) {
  .svc-link { flex-direction: column; align-items: start; }
  .feature-grid { grid-template-columns: 1fr; }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; }
}

/* =========================================================
   COMPONENTES FALTANTES (Soporte y Servicios Extra)
   ========================================================= */

/* 1. Slider de "Por qué elegirnos" (ListSlider) */
.listSlider { 
  position: relative; border-radius: var(--radius-lg); 
  background: linear-gradient(180deg, #0e1826, #0f1622); border: 1px solid #1c2533; 
  padding: 8px; margin-top: 10px; overflow: hidden; 
}
.listTrack { 
  display: flex; overflow-x: auto; scroll-behavior: smooth; 
  scroll-snap-type: x mandatory; scrollbar-width: none; 
}
.listTrack::-webkit-scrollbar { display: none; }
.listPage { min-width: 100%; padding: 8px; scroll-snap-align: center; }

.listItem { 
  display: grid; grid-template-columns: 84px 1fr; gap: 14px; align-items: center; 
  background: linear-gradient(135deg, #0f1622, #0f1724); border: 1px solid #152437; 
  border-radius: 14px; margin: 10px 4px; padding: 14px; transition: .2s; 
}
.listItem:hover { 
  border-color: var(--brand-2); transform: translateY(-1px); 
  background: radial-gradient(circle at top left, rgba(96,165,250,.16), #0f1724); 
}
.listIcon { 
  width: 84px; height: 84px; border-radius: 14px; background: #0f1725; 
  display: grid; place-items: center; overflow: hidden; 
}
.listIcon img { width: 100%; height: 100%; object-fit: cover; }

/* 2. Servicios Complementarios (Grid con Pills) */
.svc-grid { 
  display: grid; grid-template-columns: repeat(auto-fit, minmax(min(100%, 340px), 1fr)); gap: 16px; 
}
.svc-link { 
  display: flex; justify-content: space-between; gap: 10px; padding: 12px; 
  border-radius: var(--radius-md); background: linear-gradient(135deg, #0f1622, #0f1724); 
  border: 1px solid #1c2533; cursor: pointer; position: relative; transition: .2s; 
}
.svc-link:hover { 
  border-color: var(--brand-2); transform: translateY(-1px); 
  box-shadow: var(--shadow-soft); 
}
.svc-text { display: flex; flex-direction: column; gap: 4px; }
.svc-title { font-size: 14px; font-weight: 600; color: #e5efff; }
.svc-sub { font-size: 13px; color: #9fb1cc; }
.svc-pill { 
  font-size: 11px; padding: 4px 8px; border-radius: 999px; 
  border: 1px solid rgba(96,165,250,.3); background: rgba(15,23,42,.8); 
  color: var(--brand-2); white-space: nowrap; height: fit-content; align-self: center;
}

/* Ajustes finales de botones */
.promo-filters { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 12px; }
.promo-btn { 
  padding: 8px 12px; border-radius: 10px; border: 1px solid #223044; background: #101722; 
  color: #c8d3e5; font-weight: 600; cursor: pointer; transition: .2s; 
}
.promo-btn:hover, .promo-btn.active { 
  background: linear-gradient(145deg, var(--brand), var(--brand-2)); 
  color: #0b0f14; border-color: transparent; 
}
