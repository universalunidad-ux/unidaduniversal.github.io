<footer class="gf" role="contentinfo" id="gf-root">
<style>
/*=== GLOBAL FOOTER (COMPACTO) ===*/
.gf{margin-top:40px;background:var(--bg,#0b0f14);border-top:1px solid rgba(255,255,255,.06);color:var(--text,#e8eef6);font-family:system-ui,-apple-system,sans-serif}
.gf *{box-sizing:border-box}
.gf-container{max-width:var(--maxw,1200px);margin:0 auto;padding:22px 16px}
.gf-grid{display:grid;grid-template-columns:2fr 1.3fr 1.3fr 1.7fr 1.4fr;gap:18px}
.gf h3.gf-title{margin:0 0 8px;font-size:16px;color:var(--text);text-align:center;font-weight:700}
.gf .gf-hint{color:var(--muted,#95a2b3);font-size:13px}
/* CONTACTO & PAGOS */
.gf-contact{display:flex;flex-direction:column;gap:8px}
.gf-row{display:flex;gap:8px;align-items:flex-start;font-size:14px}
.gf-ico{width:18px;height:18px;opacity:.95;flex:0 0 18px;object-fit:contain}
.gf a{color:var(--text);text-decoration:none;transition:color .2s}.gf a:hover{text-decoration:underline;color:#fff}
.gf-payments{display:flex;justify-content:center}
.gf-payments img{max-width:260px;width:100%;height:auto;border-radius:10px;border:1px solid rgba(255,255,255,.08);display:block}
/* CARDS (Marcas, Map, Aliados) */
.gf-brands,.gf-allies{display:flex;flex-direction:column;gap:12px;align-items:center}
.gf-brand,.gf-map-card,.gf-ally-card{background:var(--card,#111723);border:1px solid rgba(255,255,255,.08);border-radius:18px;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 26px rgba(0,0,0,.35)}
.gf-brand{width:220px;min-height:110px;padding:8px 14px}
.gf-brand img{max-height:60px;width:auto;object-fit:contain;display:block}
.gf-presence{display:flex;flex-direction:column;align-items:center;gap:10px;text-align:center}
.gf-map-card{padding:14px}.gf-map-card img{width:100%;max-width:190px;height:auto;display:block}
.gf-presence p{margin:0;font-size:13px;color:var(--muted,#cbd5f5);max-width:22rem;line-height:1.4}
.gf-ally-card{padding:10px 18px;min-height:70px}
.gf-ally-card img{height:48px;width:auto;object-fit:contain;display:block}
/* BOTTOM & RESPONSIVE */
.gf-bottom{display:flex;align-items:center;justify-content:space-between;border-top:1px solid rgba(255,255,255,.06);padding-top:14px;margin-top:16px}
.gf-brandmini{display:flex;align-items:center;gap:10px}
.gf-brandmini img{width:50px;height:50px;border-radius:8px;object-fit:cover;background:#1e293b}
@media(max-width:980px){.gf-grid{grid-template-columns:1fr 1fr}}
@media(max-width:640px){.gf-grid{grid-template-columns:1fr}.gf-bottom{flex-direction:column;gap:8px;align-items:flex-start}}
/* FIX JS LOAD */
.gf img{opacity:0;transition:opacity .3s ease}
.gf img.is-loaded{opacity:1}
</style>

<div class="gf-container">
  <div class="gf-grid" aria-label="Información de pie de página">
    <section aria-labelledby="gf-contacto">
      <h3 id="gf-contacto" class="gf-title">Contacto</h3>
      <div class="gf-contact">
        <div class="gf-row">
          <svg class="gf-ico" viewBox="0 0 24 24" fill="none"><path d="M12 21s-6-5.3-6-11a6 6 0 1 1 12 0c0 5.7-6 11-6 11z" stroke="currentColor" stroke-width="1.8"/><circle cx="12" cy="10" r="2.6" stroke="currentColor" stroke-width="1.6"/></svg>
          <div><strong>Ubicación:</strong> Insurgentes Sur 1188, CDMX</div>
        </div>
        <div class="gf-row">
          <svg class="gf-ico" viewBox="0 0 24 24" fill="none"><path d="M6.5 3h2l2 4-2 1a11 11 0 0 0 4.5 4.5l1-2 4 2v2a2 2 0 0 1-2.2 2 15 15 0 0 1-9.8-9.8A2 2 0 0 1 6.5 3z" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/></svg>
          <div><strong>Tel:</strong> <a href="tel:+525568437917">55 6843 7917</a> · <a href="tel:+525568437918">55 6843 7918</a></div>
        </div>
        <div class="gf-row">
          <svg class="gf-ico" viewBox="0 0 24 24" fill="none"><rect x="3" y="5" width="18" height="14" rx="2.2" stroke="currentColor" stroke-width="1.8"/><path d="M5 7.5l7 5 7-5" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg>
          <div><strong>Mail:</strong> <a href="mailto:andree@expiriti.com.mx">andree@expiriti.com.mx</a></div>
        </div>
        <div class="gf-row">
          <img class="gf-ico js-abs-src" data-src="IMG/whatsapp.svg" alt="WhatsApp" width="18" height="18">
          <div><a href="https://wa.me/525568437918?text=Hola%20Expiriti%2C%20quisiera%20informaci%C3%B3n" target="_blank" rel="noopener">WhatsApp directo</a></div>
        </div>
      </div>
    </section>

    <section aria-labelledby="gf-pagos">
      <h3 id="gf-pagos" class="gf-title">Formas de pago</h3>
      <div class="gf-payments">
        <img class="js-abs-src" data-src="IMG/pasarela.webp" alt="Métodos de pago" width="260" height="110">
      </div>
    </section>

    <section aria-labelledby="gf-marcas">
      <h3 id="gf-marcas" class="gf-title">Marcas</h3>
      <div class="gf-brands">
        <div class="gf-brand"><img class="js-abs-src" data-src="IMG/contpaqi.webp" alt="CONTPAQi" width="180" height="60"></div>
        <div class="gf-brand"><img class="js-abs-src" data-src="IMG/microsoft.webp" alt="Microsoft" width="180" height="60"></div>
        <div class="gf-brand"><img class="js-abs-src" data-src="IMG/hpserver.webp" alt="HP Servers" width="180" height="60"></div>
      </div>
    </section>

    <section aria-labelledby="gf-presencia">
      <h3 id="gf-presencia" class="gf-title">Presencia nacional</h3>
      <div class="gf-presence">
        <div class="gf-map-card"><img class="js-abs-src" data-src="IMG/mexico.webp" alt="Mapa México" width="190" height="120"></div>
        <p>Atendemos clientes en los 32 estados de la República Mexicana.</p>
      </div>
    </section>

    <section aria-labelledby="gf-aliados" class="gf-ally">
      <h3 id="gf-aliados" class="gf-title">Aliados</h3>
      <div class="gf-allies">
        <div class="gf-ally-card"><img class="js-abs-src" data-src="IMG/bni.webp" alt="BNI" width="150" height="48"></div>
        <div class="gf-ally-card"><img class="js-abs-src" data-src="IMG/fucam.webp" alt="FUCAM" width="150" height="48"></div>
        <div class="gf-ally-card"><img class="js-abs-src" data-src="IMG/ligo.webp" alt="ligo" width="150" height="48"></div>
      </div>
    </section>
  </div>

  <div class="gf-bottom" aria-label="Información legal">
    <div class="gf-brandmini">
      <img class="js-abs-src" data-src="IMG/expiritilogo.webp" alt="Expiriti" width="50" height="50">
      <div>
        <strong>Expiriti</strong>
        <div class="gf-hint">© <span id="gf-year">2025</span> · Todos los derechos reservados</div>
      </div>
    </div>
    <div class="gf-hint">
      <a class="js-abs-href" data-href="aviso-de-privacidad.html">Aviso de privacidad</a> ·
      <a class="js-abs-href" data-href="terminos-y-condiciones.html">Términos</a>
    </div>
  </div>
</div>

<script>
(function(){
  "use strict";
  // 1. OBTENER RUTA BASE (Igual que el Header)
  function getMasterRoot(){
    const meta = document.querySelector('meta[name="expiriti-base"]');
    if (meta && meta.content){
      let r = meta.content.trim();
      if (!r.startsWith("/")) r = "/" + r;
      if (!r.endsWith("/")) r = r + "/";
      return r;
    }
    const path = window.location.pathname;
    const parts = path.split("/").filter(Boolean);
    if (window.location.hostname.includes("github.io") && parts.length > 0){
      return "/" + parts[0] + "/";
    }
    return "/";
  }
  const ROOT = getMasterRoot();

  // 2. CONSTRUCTOR DE RUTAS
  function buildPath(raw){
    if (!raw) return "#";
    if (/^(http|https|mailto|tel|whatsapp|sms):/i.test(raw)) return raw;
    const clean = raw.replace(/^\//,"");
    return window.location.origin + ROOT + clean;
  }

  // 3. APLICAR RUTAS A IMAGENES Y LINKS DEL FOOTER
  const footer = document.getElementById("gf-root");
  if(footer){
    // Imágenes (data-src -> src)
    const imgs = footer.querySelectorAll(".js-abs-src");
    imgs.forEach(img => {
      const raw = img.getAttribute("data-src");
      if(raw){
        img.src = buildPath(raw);
        img.onload = () => img.classList.add("is-loaded");
        // Si ya está cacheada, forzamos la clase
        if(img.complete) img.classList.add("is-loaded");
      }
    });

    // Enlaces (data-href -> href)
    const links = footer.querySelectorAll(".js-abs-href");
    links.forEach(a => {
      const raw = a.getAttribute("data-href");
      if(raw) a.href = buildPath(raw);
    });

    // 4. AÑO AUTOMÁTICO
    const ySpan = document.getElementById("gf-year");
    if(ySpan) ySpan.textContent = new Date().getFullYear();
  }
})();
</script>
</footer>
